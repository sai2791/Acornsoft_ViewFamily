L0000           = $0000
L0001           = $0001
L0002           = $0002
L0003           = $0003
L0004           = $0004
L0005           = $0005
L0006           = $0006
L0007           = $0007
L0008           = $0008
L0009           = $0009
L000A           = $000A
L000B           = $000B
L000C           = $000C
L000D           = $000D
L000E           = $000E
HIMEMlsb           = $000F
HIMEMmsb           = $0010
L0011           = $0011
L0012           = $0012
L0013           = $0013
L0014           = $0014
L0015           = $0015
L0016           = $0016
L0017           = $0017
L0018           = $0018
L0019           = $0019
L001A           = $001A
L001B           = $001B
L001C           = $001C
L001D           = $001D
L001E           = $001E
PageLSB           = $001F
PageMSB           = $0020
L0021           = $0021
L0022           = $0022
L0023           = $0023
L0024           = $0024
L0025           = $0025
L0026           = $0026
L0027           = $0027
L0028           = $0028
L0029           = $0029
L002A           = $002A
L002B           = $002B
L002C           = $002C
L002D           = $002D
L002E           = $002E
L002F           = $002F
L0030           = $0030
L0031           = $0031
L0032           = $0032
L0033           = $0033
L0034           = $0034
L0035           = $0035
L0036           = $0036
L0037           = $0037
L0038           = $0038
L0039           = $0039
L003A           = $003A
L003B           = $003B
L003C           = $003C
L003D           = $003D
L003E           = $003E
L003F           = $003F
L0040           = $0040
L0041           = $0041
L0042           = $0042
L0043           = $0043
L0044           = $0044
L0045           = $0045
L0046           = $0046
L0047           = $0047
L0048           = $0048
L0049           = $0049
L004A           = $004A
L004B           = $004B
L004C           = $004C
L004D           = $004D
L004E           = $004E
L004F           = $004F
L0050           = $0050
L0051           = $0051
L0052           = $0052
L0053           = $0053
L0054           = $0054
L0055           = $0055
L005F           = $005F
L0060           = $0060
L0061           = $0061
L0062           = $0062
L0063           = $0063
L0064           = $0064
L0065           = $0065
L0066           = $0066
L0067           = $0067
L0068           = $0068
L0069           = $0069
L006A           = $006A
L006B           = $006B
L006C           = $006C
L006D           = $006D
L006E           = $006E
L006F           = $006F
L0070           = $0070
L0071           = $0071
L0072           = $0072
L0073           = $0073
L0074           = $0074
L0075           = $0075
L0076           = $0076
L0077           = $0077
L0078           = $0078
L0079           = $0079
L007A           = $007A
L007B           = $007B
L007C           = $007C
L007D           = $007D
L007E           = $007E
L007F           = $007F
L0080           = $0080
L0081           = $0081
L0082           = $0082
L0083           = $0083
L0084           = $0084
L0085           = $0085
L0086           = $0086
L0087           = $0087
L0088           = $0088
L0089           = $0089
L008A           = $008A
L008B           = $008B
L008C           = $008C
L008D           = $008D
L008E           = $008E
L0090           = $0090
L0091           = $0091
L0092           = $0092
L0094           = $0094
L0098           = $0098
L009E           = $009E
L009F           = $009F
L00A0           = $00A0
L00A7           = $00A7
L00AA           = $00AA
L00AE           = $00AE
L00AF           = $00AF
L00B1           = $00B1
L00B2           = $00B2
L00B5           = $00B5
L00B6           = $00B6
L00B7           = $00B7
L00BF           = $00BF
L00C7           = $00C7
L00CF           = $00CF
L00DB           = $00DB
L00DD           = $00DD
L00E8           = $00E8
L00F0           = $00F0
cmd_line        = $00F2
romslot         = $00F4
L00FD           = $00FD
L00FF           = $00FF
L0100           = $0100
L0101           = $0101
L0102           = $0102
L0103           = $0103
L0108           = $0108
USERV           = $0200
BRKV            = $0202
BRKV+1          = $0203
IRQ1V           = $0204
IRQ2V           = $0206
CLIV            = $0208
BYTEV           = $020A
WORDV           = $020C
WRCHV           = $020E
RDCHV           = $0210
FILEV           = $0212
ARGSV           = $0214
BGETV           = $0216
BPUTV           = $0218
GBPBV           = $021A
FINDV           = $021C
FSCV            = $021E
EVNTV           = $0220
UPTV            = $0222
NETV            = $0224
VDUV            = $0226
KEYV            = $0228
INSV            = $022A
REMV            = $022C
CNPV            = $022E
IND1V           = $0230
IND2V           = $0232
IND3V           = $0234
L0253           = $0253
L0400           = $0400
L0410           = $0410
L0412           = $0412
L0500           = $0500
L0501           = $0501
L0502           = $0502
L0503           = $0503
L0504           = $0504
L0505           = $0505
L0506           = $0506
L050A           = $050A
L050B           = $050B
L050C           = $050C
L050D           = $050D
L050E           = $050E
L050F           = $050F
L0510           = $0510
L0511           = $0511
L0545           = $0545
L05CE           = $05CE
L05CF           = $05CF
L0654           = $0654
L06D8           = $06D8
L0710           = $0710
L071A           = $071A
L075C           = $075C
L0770           = $0770
L0784           = $0784
L0798           = $0798
L07AE           = $07AE
L07AF           = $07AF
L07B6           = $07B6
L07B7           = $07B7
L07CC           = $07CC
L07CD           = $07CD
L07EC           = $07EC
L0881           = $0881
L0914           = $0914
L097F           = $097F
L0C81           = $0C81
L0F12           = $0F12
L0FD0           = $0FD0
L139D           = $139D
L1781           = $1781
L1D80           = $1D80
L1D81           = $1D81
L1E81           = $1E81
L2001           = $2001
L2040           = $2040
L2067           = $2067
L2089           = $2089
L20FF           = $20FF
L2400           = $2400
L293A           = $293A
L2A1C           = $2A1C
L2E0F           = $2E0F
L2F3E           = $2F3E
L372B           = $372B
L3F3A           = $3F3A
L4000           = $4000
L4100           = $4100
L420D           = $420D
L4948           = $4948
L4B84           = $4B84
L4C4D           = $4C4D
L4D42           = $4D42
L4D45           = $4D45
L4D46           = $4D46
L5A0B           = $5A0B
L6150           = $6150
L6964           = $6964
L6D65           = $6D65
LD184           = $D184
LD795           = $D795
defvec          = $D940
OSRDRM          = $FFB9
VDUCHR          = $FFBC
OSEVEN          = $FFBF
GSINIT          = $FFC2
GSREAD          = $FFC5
NVRDCH          = $FFC8
NVWRCH          = $FFCB
OSFIND          = $FFCE
OSGBPB          = $FFD1
OSBPUT          = $FFD4
OSBGET          = $FFD7
OSARGS          = $FFDA
OSFILE          = $FFDD
OSRDCH          = $FFE0
OSASCI          = $FFE3
OSNEWL          = $FFE7
OSWRCH          = $FFEE
OSWORD          = $FFF1
OSBYTE          = $FFF4
OSCLI           = $FFF7

                org     $8000
.langent        JMP     language

.servent        JMP     service

                EQUB    $C2

                EQUB    $0D

.L8008          EQUB    $03

                EQUS    "VI"

.L800B          EQUS    "E"

.L800C          EQUS    "W"

                EQUB    $00

                EQUS    "(C) 1982 Acornsoft"

                EQUB    $00

.L8021          PHA
                TXA
                PHA
                TYA
                PHA
                TSX
                LDA     L0103,X   ; Rom Service Command
                CMP     #$04
                BNE     nextrom

                LDX     #$FF
                DEY
.L8031          INX
                INY
                LDA     command,X  ; compare to WORD
                BMI     L804E

                LDA     (cmd_line),Y
                AND     #$DF       ; change to upper case
                CMP     command,X  ; compare to WORD
                BEQ     L8031

.L8040          BEQ     L800B

                ASL     L0FD0
.L8045          PLA
                PLA
                TAX
                PLA
                LDA     #$8E    ; HIMEM
                JMP     OSBYTE

.L804E          LDA     (cmd_line),Y
                CMP     #$21    ; Character !
                BCC     L8045   ; less than

.nextrom        PLA
                TAY
                PLA
                TAX
                PLA
.langexit       RTS

.command        EQUS    "WORD"

                EQUB    $FF

.language       CMP     #$01
                BNE     langexit

                CLI
                JSR     LB2EB

                LDA     L8093
                STA     BRKV        ; low order byte
                LDA     L8094
                STA     BRKV+1      ; high order byte
                LDX     #$FF
                TXS
                STX     L004E
                JSR     LAF31

                LDA     #$83        ; Read Page (OSHWM)
                JSR     OSBYTE

                CPX     PageLSB
                BNE     L8095

                CPY     PageMSB
                BNE     L8095

                JSR     L8E3A

                BNE     L8095

                JSR     LA8F4

                JMP     L8098

.L8094          EQUB    $89

.L8095          JSR     LAF88

.L8098          JSR     LA73A

                LDA     #$04       ; Define action of cursor editing keys
                LDX     #$00       ; default (Normal)
                JSR     OSBYTE

                LDA     #$E1
                LDX     #$01
                LDY     #$00
                JSR     OSBYTE     ; Ctrl Function key interpretation

                JSR     LA785

                LDX     #$00
                JSR     LA7E2

                JSR     L8E3A

                BEQ     L80C1

                JSR     OSNEWL

                JSR     L8E62

                JMP     L80DB

.L80C1          JSR     LA7B2

                ORA     L420D
                EQUS    "Bytes free "

                EQUB    $00

.L80D2          JSR     LAF77

                JSR     LA66A

                JSR     OSNEWL

.L80DB          JSR     L8999

                BIT     L003C
                BVS     L810F

                LDA     L003C
                ROR     A
                BCC     L810F

                JSR     LA7B2

                EQUS    "Input file is "

                EQUB    $00

.L80F9          LDA     L0041
                BNE     L8105

                JSR     LA7B2

                EQUS    "not "

                EQUB    $00

.L8105          JSR     LA7B2

                EQUS    "empty"

                EQUB    $0D,$00

.L810F          JSR     LA7B2

                EQUS    "Screen mode "

                EQUB    $00

.L811F          LDA     L0037
                ORA     #$30
                JSR     OSWRCH

                JSR     OSNEWL

.L8129          LDA     L0784
                BEQ     L8158

                JSR     LA7B2

                EQUS    "Prin"

.L8135          EQUS    "ter "

.L8139          BRK
                EQUB    $A2

                BRK
.L813C          EQUB    $BD

.L813D          STY     L0007
L813E = L813D+1
                CMP     #$0D
                BEQ     L8149

                JSR     OSASCI

                INX
                BNE     L813C

.L8149          LDA     L006C
                BEQ     L8155

                JSR     LA7B2

                EQUS    " (m)"

                EQUB    $00

.L8155          JSR     OSNEWL

.L8158          LDX     #$00
                LDY     #$00
.L815C          LDA     L0054,X
                BEQ     L8189

                TYA
                BNE     L817D

                STX     L0083
                JSR     LA7B2

                EQUS    "Marker(s) set "

                EQUB    $00

.L8177          LDX     L0083
                LDY     #$01
                BNE     L8182

.L817D          LDA     #$2C
                JSR     OSWRCH

.L8182          TXA
                LSR     A
                ADC     #$31
                JSR     OSWRCH

.L8189          INX
                INX
                CPX     #$0C
                BNE     L815C

                TYA
                BEQ     L8195

                JSR     OSNEWL

.L8195          JSR     OSNEWL

.L8198          JSR     LA726

                JSR     L83FF

                LDX     #$FF
                STX     L004E
                TXS
                INX
                STX     L0069
                JSR     LA7B2

                AND     L003E,X
                LDX     #$00
                STX     L0085
                LDX     #$05
                STX     L0086
                LDX     #$44
                STX     L0087
                LDX     #$20
                STX     L0088
                LDX     #$7E
                STX     L0089
                LDX     #$85
                LDA     #$00
                STA     L007F
                TAY
                JSR     OSWORD

                BCC     L81E3

                JSR     LA726

                JSR     L8E3A

                BEQ     L81DA

                JSR     L8E62

                JMP     L8198

.L81DA          JMP     L9AE7

.L81DD          JSR     LA8F4

                JMP     L8098

.L81E3          LDY     #$00
                JSR     L8DE1

                BEQ     L81F7

                STY     L007F
                CMP     #$2A
                BNE     L81FA

                LDX     #$00
                LDY     #$05
                JSR     OSCLI

.L81F7          JMP     L8198

.L81FA          JSR     LA7FF

                STY     L0080
                BCS     L8205

                CPY     #$1A
                BCC     L8210

.L8205          JSR     LA7B2

                EQUS    "Mistake"

                EQUB    $FF

.L8210          ROR     A
                BCC     L821E

                JSR     L8E3A

                BEQ     L821E

                JSR     L8E65

                JMP     L8198

.L821E          LDA     L0080
                LDY     #$04
                JSR     LA84A

                JMP     L8098

                LDX     #$00
.L822A          LDA     LB1B4,X
                BEQ     L8237

                EOR     #$5B
                JSR     OSASCI

                INX
                BNE     L822A

.L8237          JMP     L8195

                JSR     L83C6

                BEQ     L829B

                JSR     L893D

                JSR     L8911

                BEQ     L82AE

                JSR     L8C30

                JSR     L8B2F

                BNE     L82AE

                JSR     LAB83

                JMP     L9AE7

                JSR     L83A4

                BCS     L82AE

                BEQ     L829B

                JSR     L8B2F

                BNE     L82AE

                LDX     #$00
                STX     L001D
                STX     L001E
.L8267          INC     L001D
                BNE     L826D

                INC     L001E
.L826D          JSR     LAB83

                LDA     #$00
                STA     L0078
                JSR     L8A03

                BCS     L82C1

                JSR     L8B2F

                BEQ     L8267

                LDX     L001D
                LDY     L001E
                JSR     LA66A

                JSR     LA7B2

                EQUS    " string(s) changed"

                EQUB    $FF

.L829B          JSR     LA7B2

                EQUS    "No target given"

                EQUB    $FF

.L82AE          JSR     LA7B2

                EQUS    "No string found"

                EQUB    $FF

.L82C1          JMP     L84F3

.L82C4          INY
                LDA     L0500,Y
                STA     L0084
                CMP     L007E
                BEQ     L82D0

                CMP     #$0D
.L82D0          RTS

                JSR     L83A4

                BEQ     L829B

                JSR     L8B2F

                BNE     L82AE

                JSR     LAB83

                JSR     LB054

.L82E1          JSR     L8315

                LDX     #$52
                LDY     #$50
                JSR     LA760

                JSR     LA712

                BCS     L82D0

                AND     #$DF
                LDX     #$00
                CMP     #$59
                BEQ     L82FD

                DEX
                CMP     #$4F
                BNE     L830A

.L82FD          STX     L0078
                JSR     L8325

                JSR     L8A03

                BCS     L831F

                JSR     L8315

.L830A          JSR     L8B2F

                BNE     L82D0

                JSR     LAB83

                JMP     L82E1

.L8315          LDA     #$00
                STA     L006E
                JSR     LA22E

                JMP     LA8F4

.L831F          JSR     LA902

                JMP     L81DD

.L8325          LDA     L004B
                STA     L008D
                LDA     L004C
                STA     L008E
                LDY     #$00
                LDX     #$00
.L8331          LDA     L008E
                CMP     L0066
                BNE     L833D

                LDA     L008D
                CMP     L0065
                BEQ     L834C

.L833D          LDA     (L008D),Y
                CMP     #$0D
                BNE     L8344

                INX
.L8344          INC     L008D
                BNE     L8331

                INC     L008E
                BNE     L8331

.L834C          INC     L0074
                TXA
                BEQ     L8392

                JMP     LA6F9

.L8354          STX     L0083
                DEY
.L8357          JSR     L82C4

                BEQ     L838E

                CMP     #$5E
                BNE     L837E

                JSR     L82C4

                BEQ     L838E

                JSR     L8C17

                STA     L0082
                LDX     #$FE
.L836C          INX
                INX
                LDA     L8393,X
                BMI     L837C

                CMP     L0082
                BNE     L836C

                LDA     L8394,X
                BNE     L837E

.L837C          LDA     L0084
.L837E          LDX     L007A
                BNE     L8385

                JSR     L8C13

.L8385          LDX     L0083
                STA     L06D8,X
                INC     L0083
                BNE     L8357

.L838E          LDX     L0083
                STY     L007F
.L8392          RTS

.L8394          ORA     (L0054,X)
                ORA     #$43
                ORA     L0253
                JMP     L5A0B

                INC     A
                AND     L2A1C
                ORA     L20FF,X
.L83A4          JSR     L83C6

                BEQ     L83C4

                JSR     L8DE7

                BEQ     L83B6

                LDY     L007F
                INY
                JSR     L8354

                STX     L004A
.L83B6          JSR     L893D

                JSR     L8911

                SEC
                BEQ     L83C5

                JSR     L8C30

                LDA     #$01
.L83C4          CLC
.L83C5          RTS

.L83C6          LDX     #$00
                STX     L007A
                STX     L004A
                JSR     L8DE7

                BEQ     L83DA

                LDX     #$00
                JSR     L8354

                STX     L007A
                CPX     #$00
.L83DA          RTS

                LDA     #$0E
                JSR     OSWRCH

                JMP     L83F9

                LDA     #$C0
                JSR     L8412

                JSR     L8E72

                JSR     L83FF

                JSR     OSNEWL

                JMP     L8198

                LDA     #$80
                JSR     L8412

.L83F9          JSR     L8E72

                JMP     L8198

.L83FF          LDA     L0069
                BPL     L840D

                ROL     L0069
                CLC
                ROR     L0069
                LDA     #$06
                JSR     L9457

.L840D          LDA     #$0F
                JMP     OSWRCH

.L8412          STA     L0069
                JSR     L943F

                LDA     #$03
                JMP     L9457

                JSR     L8DFD

                JSR     L8E17

                JSR     LAF83

                JSR     L8DD3

                LDA     #$02
                STA     L004E
                LDA     #$40
                JSR     L880C

                STA     L006A
                JSR     L88AC

                JSR     L8DD3

                LDA     #$80
                JSR     L880C

                STA     L006B
                LDX     #$00
                STX     L0041
.L8444          LDA     L075C,X
                STA     L0770,X
                INX
                CMP     #$0D
                BNE     L8444

                JSR     LAF88

                JSR     L8CD8

                BEQ     L845C

                LDA     #$01
                STA     L003C
                RTS

.L845C          JSR     L84C1

.L845F          JMP     L8198

                JSR     L8E08

                JSR     L893D

                LDA     L005F
                LDY     L0060
                JSR     LAB83

                JSR     L8CFC

                BNE     L845F

                LDY     #$00
                LDX     L003A
.L8478          LDA     (L0006),Y
                STA     L05CF,Y
                INY
                DEX
                BNE     L8478

                LDA     #$0D
                STA     L05CF,Y
                JSR     L8987

                JSR     LB033

                JSR     L84E9

                LDA     L0041
                BNE     L849C

                LDA     L000D
                LDY     L000E
                JSR     L8CDC

                BEQ     L845F

.L849C          JMP     LB013

                JSR     L8E08

.L84A2          JSR     LACB5

                JSR     L8CFC

                BNE     L845F

                JSR     L8987

                JSR     LB033

                JSR     LB013

                LDA     L0041
                BNE     L84C1

                JSR     L8CD8

                BEQ     L845F

                BNE     L84A2

                JSR     L8E08

.L84C1          LDA     #$00
                STA     L0041
                STA     L003C
                LDX     #$6A
                JSR     L8D39

                LDX     #$6B
                JMP     L8D39

                JSR     L8DD3

                JSR     L893D

                JSR     L8911

                BEQ     L850B

                LDA     #$80
                JSR     L880C

                STA     L004D
                JSR     L8D05

                JMP     L8564

.L84E9          JSR     LAF77

                TYA
                BNE     L850B

                CPX     #$96
                BCS     L850B

.L84F3          JSR     L83FF

                JSR     LA7B2

                EQUS    "Not enough memory"

                EQUB    $FF

.L850B          RTS

                JSR     L8DD3

                JSR     L893D

                JSR     L84E9

                LDA     #$40
                JSR     L880C

                STA     L004D
                LDA     L005F
                LDY     L0060
                STA     L0089
                STY     L008A
                JSR     LAB83

                LDA     L0089
                LDY     L008A
                JSR     L8D4E

                JSR     LA9CD

                JSR     L8C41

                BEQ     L8538

                BCS     L854C

.L8538          JSR     LA7B2

                EQUS    "Not all read in"

                EQUB    $0D,$00

.L854C          LDA     L0085
                STA     L0089
                LDA     L0086
                STA     L008A
                LDA     L0015
                SEC
                SBC     L0085
                STA     L008B
                LDA     L0016
                SBC     L0086
                STA     L008C
                JSR     LA968

.L8564          JSR     L8D43

                JMP     L8198

                JSR     L87ED

                BEQ     L85A0

                INX
                DEX
                BNE     L85A0

                STA     L0084
                LDA     L0052
                ROR     A
                BCS     L8593

                JSR     L8E3A

                BNE     L8593

                LDA     #$85
                LDX     L0084
                JSR     OSBYTE

                CPY     L000E
                BCC     L8590

                BNE     L8593

                CPX     L000D
                BCS     L8593

.L8590          JMP     L84F3

.L8593          LDA     #$16
                JSR     OSWRCH

                LDA     L0084
                JSR     OSWRCH

                JMP     LAF31

.L85A0          JSR     LA7B2

                EQUS    "Bad mode"

                EQUB    $FF

.L85AC          JSR     L943F

                JSR     L87ED

                PHP
                LDX     #$0A
                PLP
                BEQ     L85BC

                LDX     L008D
                BEQ     L85CA

.L85BC          LDY     #$00
                LDA     #$0C
                JSR     L9457

                TYA
                AND     #$01
                BEQ     L85CB

                STX     L006C
.L85CA          RTS

.L85CB          JSR     LA7B2

                EQUS    "Driver does not support microspacing"

                EQUB    $FF

.L85F3          LDX     #$01
                STX     L008B
                DEX
                STX     L008D
                DEX
                STX     L008C
.L85FD          JSR     L8DE7

                BEQ     L8626

                AND     #$DF
                LDX     #$00
.L8606          CMP     L8631,X
                BEQ     L861D

                INX
                LDY     L8631,X
                BNE     L8606

                JSR     LA7B2

                EQUS    "Bad flag"

                EQUB    $FF

.L861D          LDA     L8635,X
                STA     L008B,X
                INC     L007F
                BNE     L85FD

.L8626          LDX     #$02
.L8628          LDA     L008B,X
                STA     L004F,X
                DEX
                BPL     L8628

                BMI     L864F

.L8631          EQUS    "FJI"

                EQUB    $00

.L8635          EQUB    $00,$00,$FF

.L8638          JSR     L87ED

                BEQ     L864F

                LDA     L008D
                CMP     #$1B
                BNE     L864D

                JSR     LA7B2

                EQUS    "Frump!"

                EQUB    $FF

.L864D          STA     L007B
.L864F          JMP     L8198

                JSR     L893D

                JSR     L8911

                BEQ     L864F

                LDA     L005F
                STA     L0085
                LDA     L0060
                STA     L0086
                LDA     #$00
                STA     L008D
                STA     L008E
                STA     L0083
                STA     L0082
.L866C          LDY     #$00
                JSR     LAF27

                BNE     L869E

                LDX     #$00
                INY
.L8676          LDA     (L0085),Y
                INY
                CMP     L86FB,X
                BNE     L8685

                LDA     (L0085),Y
                CMP     L86FC,X
                BEQ     L8693

.L8685          LDA     L86FD,X
                BEQ     L868F

                DEY
                INX
                INX
                BNE     L8676

.L868F          LDA     #$80
                BNE     L86B3

.L8693          LDA     L0085
                CLC
                ADC     #$03
                STA     L0085
                BCS     L86D1

                BCC     L86D3

.L869E          LDY     #$00
                JSR     LA563

                AND     #$7F
                LDX     #$00
                LDY     L0082
                BMI     L86C1

                CMP     #$0D
                BEQ     L86B7

                CMP     #$20
                BEQ     L86B7

.L86B3          INC     L0083
                BNE     L86C9

.L86B7          LDY     L0083
                BEQ     L86C1

                INC     L008D
                BNE     L86C1

                INC     L008E
.L86C1          STX     L0083
                CMP     #$0D
                BNE     L86C9

                STX     L0082
.L86C9          ORA     L0082
                STA     L0082
                INC     L0085
                BNE     L86D3

.L86D1          INC     L0086
.L86D3          LDY     L0086
                CPY     L0062
                BNE     L866C

                LDY     L0085
                CPY     L0061
                BNE     L866C

                LDX     L008D
                LDY     L008E
                JSR     LA66A

                JSR     LA7B2

                EQUS    " word(s) counted."

                EQUB    $FF

.L86FB          EQUB    $52

.L86FC          LSR     A
                EOR     L004C
                LSR     A
                BRK
                EQUB    $20

                AND     L2089,X
                ORA     (L0089),Y
                BEQ     L873F

                LDA     L005F
                LDY     L0060
                JSR     LAB83

                JSR     LAF17

                LDA     #$10
                JSR     LAAC7

                LDA     L0002
                STA     L0004
                LDA     L0003
                STA     L0005
.L8721          JSR     L992B

                BVS     L8745

                BCS     L873B

                LDA     #$2E
                JSR     OSWRCH

                LDA     L0008
                LDY     L0009
                CPY     L0062
                BCC     L8721

                BNE     L873B

                CMP     L0061
                BCC     L8721

.L873B          LDA     #$FF
                STA     L0012
.L873F          JSR     OSNEWL

                JMP     L8198

.L8745          JSR     OSNEWL

                JMP     L84F3

                JSR     L8DFD

                JMP     LAF88

                JSR     L8DE7

                BEQ     L8768

                LDA     #$00
                LDX     #$05
                JSR     L9720

                BCS     L8768

                LDX     #$80
                TAY
                BEQ     L8766

                LDX     #$00
.L8766          STX     L007C
.L8768          JSR     LA7B2

                LSR     L006F
                JMP     (L6964)

                ROR     L2067
                BRK
                EQUB    $A5

                JMP     (L0710,X)
                JSR     LA7B2

                EQUS    "off"

                EQUB    $FF

.L877F          JSR     LA7B2

.L8783          ROR     L20FF
L8785 = L8783+2
                LDA     (L00A7)
                EQUS    "Bad file"

                EQUB    $FF

.L8791          JSR     L8DA8

                BEQ     L87E3

                JSR     L8E31

                BCC     L87B5

                JSR     L87FD

                BEQ     L8785

                LDA     L050C
                ORA     L050D
                BNE     L8785

                LDY     L050B
                DEY
                BMI     L87B5

                BNE     L8785

                LDA     L050A
                BNE     L8785

.L87B5          LDA     #$00
                STA     L0502
                LDA     #$04
                STA     L0503
                LDA     #$82
                JSR     OSBYTE

                STX     L0504
                STY     L0505
                LDA     #$00
                STA     L0506
                LDA     #$FF
                JSR     L8900

                LDX     #$00
.L87D6          LDA     L075C,X
                STA     L0784,X
                INX
                CMP     #$0D
                BNE     L87D6

                BEQ     L87E8

.L87E3          LDA     #$00
                STA     L0784
.L87E8          LDA     #$00
                STA     L006C
.L87EC          RTS

.L87ED          LDA     #$00
                STA     L0004
                LDA     #$05
                STA     L0005
                JSR     L8DE7

                BEQ     L87EC

                JMP     LA6B6

.L87FD          LDA     #$05
                JSR     L8900

                TAY
                BEQ     L8816

                LDA     L050A
                ORA     L050B
                RTS

.L880C          LDY     #$07
                LDX     #$5C
                JSR     OSFIND

                TAY
                BNE     L87EC

.L8816          JSR     L83FF

                JSR     LA7B2

                EQUS    "File not found"

                EQUB    $FF

.L882B          JSR     L8DFD

                JSR     L8E17

                JSR     LAF83

                JSR     L8DD3

                JSR     L87FD

                BEQ     L87EC

                LDA     L050C
                ORA     L050D
                BNE     L8860

                LDA     L050A
                CLC
                ADC     L000B
                STA     L008D
                TAX
                LDA     L050B
                ADC     L000C
                STA     L008E
                BCS     L8860

                CMP     HIMEMmsb
                BCC     L8863

                BNE     L8860

                CPX     HIMEMlsb
                BCC     L8863

.L8860          JMP     L84F3

.L8863          LDA     #$82
                JSR     OSBYTE

                STX     L0504
                STY     L0505
                LDA     L000B
                STA     L0502
                LDA     L000C
                STA     L0503
                LDA     #$00
                STA     L0506
                LDA     #$FF
                JSR     L890A

                LDA     L008D
                STA     L000D
                LDA     L008E
                STA     L000E
                LDY     #$00
                TYA
                STA     (L000D),Y
                STY     L0040
                JSR     L88A8

                JSR     LB04A

                JMP     LB033

                JSR     L8DFD

                JSR     L8DA8

                PHP
                LDA     #$00
                STA     L003C
                PLP
                BEQ     L88B9

.L88A8          LDA     #$40
                STA     L003C
.L88AC          LDX     #$00
.L88AE          LDA     L075C,X
                STA     L07EC,X
                INX
                CMP     #$0D
                BNE     L88AE

.L88B9          RTS

                JSR     L8DA8

                BNE     L88D3

                BIT     L003C
                BVS     L88C6

                JMP     L8DC3

.L88C6          LDX     #$00
.L88C8          LDA     L07EC,X
                STA     L075C,X
                INX
                CMP     #$0D
                BNE     L88C8

.L88D3          LDA     L000B
                STA     L050A
                LDA     L000C
                STA     L050B
                LDA     L000D
                STA     L050E
                LDA     L000E
                STA     L050F
                LDA     #$82
                JSR     OSBYTE

                STX     L050C
                STY     L050D
                STX     L0510
                STY     L0511
                LDA     #$00
                JSR     L8900

                JMP     L8198

.L8900          LDX     #$5C
                STX     L0500
                LDY     #$07
                STY     L0501
.L890A          LDX     #$00
                LDY     #$05
                JMP     OSFILE

.L8911          LDA     L005F
                LDX     L0060
                CPX     L0062
                BCC     L892B

                BNE     L891F

                CMP     L0061
                BCC     L892B

.L891F          LDY     L0061
                STY     L005F
                LDY     L0062
                STY     L0060
                STX     L0062
                STA     L0061
.L892B          LDA     L0061
                SEC
                SBC     L005F
                STA     L008B
                LDA     L0062
                SBC     L0060
                STA     L008C
                BNE     L893C

                LDA     L008B
.L893C          RTS

.L893D          JSR     LACB5

                JSR     L8953

                BEQ     L8952

                STA     L005F
                STY     L0060
                JSR     L8953

                BEQ     L8952

                STA     L0061
                STY     L0062
.L8952          RTS

.L8953          JSR     L8DE7

                BEQ     L8966

                INY
                STY     L007F
                JSR     LACA7

                BCS     L8967

                BEQ     L8975

                LDA     L0053,X
                LDY     L0054,X
.L8966          RTS

.L8967          JSR     LA7B2

                EQUS    "Bad marker"

                EQUB    $FF

.L8975          JSR     LA7B2

                EQUS    "Marker not set"

                EQUB    $FF

.L8987          LDA     L005F
                STA     L0089
                LDA     L0060
                STA     L008A
                JSR     LA968

                LDA     L0089
                LDY     L008A
                JMP     LAC30

.L8999          JSR     L83FF

                JSR     LA7B2

                EQUS    "Editing "

                EQUB    $00

.L89A8          LDA     L003C
                BEQ     L89D5

                LDY     #$00
.L89AE          LDA     L07EC,Y
                CMP     #$0D
                BEQ     L89BB

                JSR     OSASCI

                INY
                BNE     L89AE

.L89BB          BIT     L003C
                BVS     L89CD

                JSR     LA7B2

                EQUS    " to "

                EQUB    $00,$A0,$00

.L89C9          LDA     L0770,Y
                INY
.L89CD          JSR     OSASCI

                CMP     #$0D
                BNE     L89C9

                RTS

.L89D5          JSR     LA7B2

                EQUS    "No File"

                EQUB    $0D,$00

.L89E1          RTS

                JSR     L83FF

                JSR     OSNEWL

                LDY     #$01
.L89EA          LDA     (L00FD),Y
                BEQ     L89F4

                JSR     OSASCI

                INY
                BNE     L89EA

.L89F4          JSR     OSNEWL

                LDA     L004E
                BMI     L8A00

                LDY     #$06
                JMP     LA84A

.L8A00          JMP     L8198

.L8A03          LDA     #$00
                STA     L0082
                STA     L0081
                LDY     #$14
                LDX     L007A
                BNE     L8A3B

.L8A0F          LDA     L06D8,X
                CMP     #$01
                BNE     L8A20

                LDA     L0081
                CMP     L0049
                BCS     L8A3A

                INC     L0081
                BNE     L8A38

.L8A20          CMP     #$20
                BNE     L8A38

                CPY     L0048
                BCS     L8A38

.L8A28          LDA     L0654,Y
                PHP
                INY
                PLP
                BEQ     L8A3A

                INC     L0082
                CPY     L0048
                BCC     L8A28

                DEC     L0082
.L8A38          INC     L0082
.L8A3A          INX
.L8A3B          CPX     L004A
                BCC     L8A0F

                LDA     L0065
                SEC
                SBC     L004B
                STA     L0080
                LDA     L0066
                SBC     L004C
                STA     L0081
                LDX     L0082
                TAY
                BNE     L8A57

                CPX     L0080
                BCC     L8A57

                LDX     L0080
.L8A57          TXA
                CLC
                ADC     L004B
                STA     L0089
                LDA     L004C
                ADC     #$00
                STA     L008A
                LDA     L0082
                SEC
                SBC     L0080
                STA     L008B
                LDA     #$00
                SBC     L0081
                STA     L008C
                BMI     L8A7E

                ORA     L008B
                BEQ     L8A8E

                STA     L008B
                JSR     LA9CD

                BCC     L8A8E

                RTS

.L8A7E          LDA     #$00
                SEC
                SBC     L008B
                STA     L008B
                LDA     #$00
                SBC     L008C
                STA     L008C
                JSR     LA968

.L8A8E          LDY     #$00
                STY     L0081
                BIT     L0078
                BMI     L8AC5

                LDX     L0080
.L8A98          LDA     (L004B),Y
                INY
                JSR     L8C1F

                BCC     L8AA7

                ROR     L0078
                DEX
                BNE     L8A98

                BEQ     L8AC5

.L8AA7          PHA
                LDA     #$00
                STA     L0078
                PLA
                AND     #$20
                BNE     L8AC5

                INC     L0081
                DEX
                BEQ     L8AC1

                LDA     (L004B),Y
                JSR     L8C1F

                BCS     L8AC5

                AND     #$20
                BNE     L8AC5

.L8AC1          DEC     L0081
                DEC     L0081
.L8AC5          LDX     #$00
                STX     L0082
                STX     L0083
                LDX     #$14
                STX     L0080
                LDX     L007A
                BNE     L8B1F

.L8AD3          LDA     L06D8,X
                STX     L0084
                CMP     #$20
                BNE     L8AEC

                LDY     L0080
                CPY     L0048
                BCS     L8AFB

                INC     L0080
                LDA     L0654,Y
                BEQ     L8B1E

                DEX
                BCC     L8AFB

.L8AEC          CMP     #$01
                BNE     L8AFB

                LDY     L0082
                CPY     L0049
                BCS     L8B1E

                LDA     L0654,Y
                INC     L0082
.L8AFB          CMP     #$02
                BNE     L8B01

                LDA     #$20
.L8B01          BIT     L007C
                BMI     L8B18

                LDY     L0078
                BNE     L8B18

                JSR     L8C1F

                BCS     L8B18

                ORA     #$20
                LDY     L0081
                BEQ     L8B18

                DEC     L0081
                AND     #$DF
.L8B18          LDY     L0083
                STA     (L004B),Y
                INC     L0083
.L8B1E          INX
.L8B1F          CPX     L004A
                BCC     L8AD3

                LDA     L004B
                LDY     L004C
                JSR     LAC30

                CLC
                RTS

.L8B2C          LDA     #$FF
                RTS

.L8B2F          LDA     L007A
                BEQ     L8B2C

                LDA     #$14
                STA     L0048
                LDX     #$00
                STX     L0049
                STX     L0081
                LDA     L0065
                STA     L008D
                LDA     L0066
                STA     L008E
.L8B45          LDA     L008E
                CMP     L0068
                BCC     L8B53

                BNE     L8B2C

                LDA     L008D
                CMP     L0067
                BCS     L8B2C

.L8B53          LDY     #$00
                LDA     (L008D),Y
                JSR     LAF29

                BNE     L8B6B

                LDA     L008D
                CLC
                ADC     #$03
                STA     L0065
                LDA     L008E
                STA     L0066
                BCC     L8B2F

                BCS     L8B93

.L8B6B          JSR     L8C13

                STA     L0083
.L8B70          INY
                LDA     (L008D),Y
                BEQ     L8B8F

                JSR     LAF29

                BEQ     L8B8F

                LDA     L06D8,X
                CMP     #$20
                BEQ     L8BAB

                CMP     #$01
                BEQ     L8B97

                CMP     #$02
                BNE     L8B8B

                LDA     #$20
.L8B8B          CMP     L0083
                BEQ     L8BE7

.L8B8F          INC     L0065
                BNE     L8B2F

.L8B93          INC     L0066
                BNE     L8B2F

.L8B97          LDA     L0083
                STX     L0084
                LDX     L0049
                CPX     #$14
                BCS     L8BA6

                STA     L0654,X
                INC     L0049
.L8BA6          LDX     L0084
                JMP     L8BE7

.L8BAB          STX     L0084
                LDA     L0083
                CMP     #$20
                BEQ     L8BD7

                CMP     #$09
                BEQ     L8BD7

                CMP     #$0B
                BEQ     L8BD7

                CMP     #$1A
                BEQ     L8BD7

                CMP     #$0D
                BEQ     L8BD7

                LDA     L0081
                BEQ     L8B8F

                JSR     L8C05

                LDA     #$00
                STA     L0081
                LDX     L0084
                INX
                CPX     L007A
                BCC     L8B70

                BCS     L8BF2

.L8BD7          JSR     L8C07

                LDX     L0084
                STA     L0081
.L8BDE          INC     L008D
                BNE     L8BE4

                INC     L008E
.L8BE4          JMP     L8B45

.L8BE7          INX
                CPX     L007A
                BCC     L8BDE

                INC     L008D
                BNE     L8BF2

                INC     L008E
.L8BF2          LDA     L0065
                LDY     L0066
                LDX     L008D
                STX     L0065
                LDX     L008E
                STX     L0066
                STA     L004B
                STY     L004C
                LDX     #$00
                RTS

.L8C05          LDA     #$00
.L8C07          LDX     L0048
                CPX     #$84
                BCS     L8C12

                STA     L0654,X
                INC     L0048
.L8C12          RTS

.L8C13          BIT     L007C
                BMI     L8C1E

.L8C17          JSR     L8C1F

                BCS     L8C1E

                AND     #$DF
.L8C1E          RTS

.L8C1F          CMP     #$41
                BCC     L8C2E

                CMP     #$5B
                BCC     L8C2D

                CMP     #$61
                BCC     L8C2E

                CMP     #$7B
.L8C2D          RTS

.L8C2E          SEC
                RTS

.L8C30          LDA     L005F
                STA     L0065
                LDA     L0060
                STA     L0066
                LDA     L0061
                STA     L0067
                LDA     L0062
                STA     L0068
                RTS

.L8C41          LDA     #$00
                STA     L004E
                STA     L0083
                STA     L0084
.L8C49          LDY     L004D
                JSR     L8CC9

                LDY     #$00
                BCS     L8CA6

                CMP     #$7F
                BCC     L8C63

                LDX     L0084
                BNE     L8C49

                JSR     LAF29

                BNE     L8C49

                LDX     #$FD
                STX     L0083
.L8C63          CMP     #$20
                BCS     L8C7C

                JSR     LA5B8

                BEQ     L8C7C

                CMP     #$1A
                BEQ     L8C7C

                CMP     #$0D
                BEQ     L8C7C

                CMP     #$0B
                BEQ     L8C7C

                CMP     #$09
                BNE     L8C49

.L8C7C          LDX     #$01
                CMP     #$0D
                BEQ     L8C8F

                DEX
                LDY     L0083
                CPY     #$84
                BNE     L8C8F

                PHA
                JSR     L8CB2

                PLA
                INX
.L8C8F          INC     L0083
                JSR     L8CB4

                TXA
                BEQ     L8C49

                LDA     L0086
                CMP     L0081
                BCC     L8C49

                BNE     L8CA5

                LDA     L0085
                CMP     L0080
                BCC     L8C49

.L8CA5          CLC
.L8CA6          PHP
                LDA     L0084
                BEQ     L8CAE

                JSR     L8CB2

.L8CAE          PLP
                LDA     L0082
                RTS

.L8CB2          LDA     #$0D
.L8CB4          LDY     #$00
                STA     (L0085),Y
                INC     L0085
                BNE     L8CBE

                INC     L0086
.L8CBE          STA     L0084
                CMP     #$0D
                BNE     L8CC8

                STY     L0084
                STY     L0083
.L8CC8          RTS

.L8CC9          TSX
                STX     L0082
                JMP     OSBGET

                LDX     L0082
                TXS
                LDA     #$00
                STA     L0082
                SEC
                RTS

.L8CD8          LDA     L000B
                LDY     L000C
.L8CDC          JSR     L8D56

                LDA     L006A
                STA     L004D
                JSR     L8C41

                PHP
                BEQ     L8CED

                BCC     L8CED

                INC     L0041
.L8CED          LDA     #$00
                TAY
                STA     (L0085),Y
                LDA     L0085
                STA     L000D
                LDA     L0086
                STA     L000E
                PLP
                RTS

.L8CFC          JSR     L8911

                BEQ     L8D2C

                LDA     L006B
                STA     L004D
.L8D05          LDA     L005F
                STA     L008D
                LDA     L0060
                STA     L008E
                LDA     #$01
                STA     L004E
.L8D11          LDY     #$00
                LDA     (L008D),Y
                LDY     L004D
                JSR     L8D2D

                INC     L008D
                BNE     L8D20

                INC     L008E
.L8D20          LDA     L008E
                CMP     L0062
                BNE     L8D11

                LDA     L008D
                CMP     L0061
                BNE     L8D11

.L8D2C          RTS

.L8D2D          TSX
                STX     L0084
                JMP     OSBPUT

.L8D33          LDX     L0084
                INX
                INX
                TXS
                RTS

.L8D39          LDA     L0000,X
                BEQ     L8D2C

                STA     L004D
                LDA     #$00
                STA     L0000,X
.L8D43          LDA     #$FF
                STA     L004E
                LDA     #$00
                LDY     L004D
                JMP     OSFIND

.L8D4E          LDX     #$00
                STX     L008D
                STX     L008E
                BEQ     L8D63

.L8D56          PHA
                TYA
                PHA
                JSR     LAF77

                STX     L008D
                STY     L008E
                PLA
                TAY
                PLA
.L8D63          STA     L0085
                STY     L0086
                JSR     LAF77

                STX     L008B
                STY     L008C
                LSR     L008E
                ROR     L008D
                LSR     L008E
                ROR     L008D
                LDA     L008E
                CMP     #$04
                BCC     L8D82

                LDA     #$04
                STA     L008E
                STA     L008D
.L8D82          LDA     L008B
                SBC     L008D
                STA     L008B
                LDA     L008C
                SBC     L008E
                STA     L008C
                LDA     L0085
                CLC
                ADC     L008B
                STA     L0015
                PHA
                LDA     L0086
                ADC     L008C
                STA     L0016
                STA     L0081
                PLA
                SBC     #$8B
                STA     L0080
                BCS     L8DA7

                DEC     L0081
.L8DA7          RTS

.L8DA8          JSR     L8DE7

                BEQ     L8DD8

                LDX     #$00
.L8DAF          LDA     L0500,Y
                CMP     #$0D
                BEQ     L8DD9

                INY
                CMP     L007E
                BEQ     L8DD9

                STA     L075C,X
                INX
                CPX     #$14
                BNE     L8DAF

.L8DC3          JSR     LA7B2

                EQUS    "Bad filename"

                EQUB    $FF

.L8DD3          JSR     L8DA8

                BEQ     L8DC3

.L8DD8          RTS

.L8DD9          LDA     #$0D
                STA     L075C,X
                STY     L007F
.L8DE0          RTS

.L8DE1          LDA     #$20
                STA     L007E
                STY     L007F
.L8DE7          LDA     L007E
                CMP     #$0D
                BEQ     L8DE0

                LDY     L007F
.L8DEF          LDA     L0500,Y
                CMP     #$0D
                BEQ     L8DE0

                CMP     L007E
                BNE     L8DE0

                INY
                BNE     L8DEF

.L8DFD          BIT     L003C
                BVS     L8DE0

                LDA     L003C
                ROR     A
                BCC     L8DE0

                BCS     L8E11

.L8E08          BIT     L003C
                BVS     L8E11

                LDA     L003C
                ROR     A
                BCS     L8DE0

.L8E11          JSR     L8999

                JMP     L8198

.L8E17          JSR     L8E31

                BCS     L8E39

                JSR     LA7B2

                EQUS    "Not with cassette"

                EQUB    $FF

.L8E31          LDA     #$00
                TAY
                JSR     OSARGS

                CMP     #$03
.L8E39          RTS

.L8E3A          LDA     #$AA
                CMP     L000A
                BNE     L8E61

                LDY     #$00
                CMP     (PageLSB),Y
                BNE     L8E61

                LDA     L000D
                SEC
                SBC     #$01
                STA     L008D
                LDA     L000E
                SBC     #$00
                STA     L008E
                LDA     #$0D
                CMP     L05CE
                BNE     L8E61

                CMP     (L008D),Y
                BNE     L8E61

                INY
                LDA     (L008D),Y
.L8E61          RTS

.L8E62          JSR     OSNEWL

.L8E65          JSR     LA7B2

                EQUS    "No text"

                EQUB    $0D,$00

.L8E71          RTS

.L8E72          JSR     L8DFD

                JSR     L84E9

                JSR     LB0BD

                LDA     L000D
                ADC     #$03
                STA     L0015
                TAX
                LDA     L000E
                ADC     #$00
                STA     L0016
                TAY
                TXA
                ADC     #$8D
                BCC     L8E8F

                INY
.L8E8F          STA     L0019
                STA     L001B
                STY     L001A
                STY     L001C
                LDA     #$00
                STA     L0031
                STA     L0078
                STA     L0032
                TAY
                STA     (L001B),Y
                LDA     #$CF
                STA     L0006
                LDA     #$05
                STA     L0007
                JSR     LAB5A

                JSR     L8DE7

                BNE     L8EC1

                INC     L0032
                LDA     L000B
                STA     L0013
                LDA     L000C
                STA     L0014
                BNE     L8EE4

.L8EBE          JSR     L8FE0

.L8EC1          JSR     L8DA8

                BNE     L8EDD

                LDA     L0031
                BPL     L8ECD

                JMP     L9217

.L8ECD          RTS

.L8ECE          JSR     L83FF

                JSR     LA726

                JSR     L8FE0

                JSR     OSNEWL

                JMP     L8198

.L8EDD          LDA     #$40
                JSR     L880C

                STA     L004D
.L8EE4          LDA     L0031
                BEQ     L8EEF

                LDA     L0021
                BNE     L8EEF

                JSR     L9217

.L8EEF          JSR     L913C

                BCS     L8EBE

                LDA     L00FF
                BMI     L8ECE

                JSR     L911E

                LDY     #$00
                STY     L0080
                JSR     LAF27

                BNE     L8F82

                LDY     #$03
                STY     L0080
                JSR     LAB26

                BNE     L8F22

                LDY     #$03
                LDX     #$00
.L8F11          LDA     (L0085),Y
                STA     L05CF,X
                INY
                INX
                CMP     #$0D
                BNE     L8F11

                JSR     LAB5A

.L8F1F          JMP     L8FC2

.L8F22          JSR     L96E4

                BMI     L8F2E

                JSR     L9709

                BEQ     L8F1F

                BNE     L8F82

.L8F2E          LDA     L0019
                STA     L008B
                LDA     L001A
                STA     L008C
                LDY     #$01
                LDA     (L0004),Y
                STA     L008D
                INY
                LDA     (L0004),Y
                JSR     L8C1F

                BCC     L8F46

                LDA     #$20
.L8F46          STA     L008E
.L8F48          LDY     #$00
                LDA     (L008B),Y
                BEQ     L8F1F

                LDY     #$02
                LDA     (L008B),Y
                CMP     L008D
                BNE     L8F5D

                INY
                LDA     (L008B),Y
                CMP     L008E
                BEQ     L8F6D

.L8F5D          LDY     #$00
                LDA     (L008B),Y
                PHA
                INY
                LDA     (L008B),Y
                STA     L008C
                PLA
                STA     L008B
                JMP     L8F48

.L8F6D          LDA     L002D
                BNE     L8FC5

                LDA     L008B
                CLC
                ADC     #$04
                STA     L001D
                LDA     L008C
                ADC     #$00
                STA     L001E
                STA     L002D
                BNE     L8FC2

.L8F82          LDA     L0031
                BNE     L8F89

                JSR     L924D

.L8F89          JSR     L93BB

                LDA     #$00
                STA     L0039
                LDY     L0080
                LDA     L0069
                BPL     L8F9A

                LDA     L006C
                BNE     L8FE8

.L8F9A          LDA     (L0085),Y
                INY
                JSR     L93E5

                JSR     L93DA

                CMP     #$0D
                BNE     L8F9A

                INC     L07AE
                BNE     L8FAF

                INC     L07AF
.L8FAF          LDX     L0027
                LDA     L0021
                CLC
                SBC     L0027
                BCS     L8FBD

                LDA     #$00
                LDX     L0021
                DEX
.L8FBD          STA     L0021
                JSR     L93D8

.L8FC2          JMP     L8EE4

.L8FC5          JSR     L83FF

                JSR     LA7B2

                EQUS    "Nested macro call"

                EQUB    $00

.L8FDD          JMP     L8ECE

.L8FE0          LDA     L0032
                BNE     L8FE7

                JMP     L8D43

.L8FE7          RTS

.L8FE8          LDX     #$00
                STX     L0044
                STX     L0046
                STX     L0045
                STX     L0047
                STX     L0039
                STX     L0048
                STX     L0042
                STX     L0043
                STX     L0083
.L8FFC          TXA
                PHA
                LDA     (L0085),Y
                JSR     L93E5

                PLA
                TAX
                LDA     (L0085),Y
                INY
                CMP     #$1A
                BNE     L9023

                BIT     L0083
                BPL     L9018

                LDA     L0048
                BEQ     L901F

                INC     L0043
                BNE     L8FFC

.L9018          LDA     L0039
                STA     L0047
                JMP     L9040

.L901F          LDA     #$20
                DEC     L0042
.L9023          CMP     #$20
                BCC     L9046

                BNE     L9044

                BIT     L0083
                BPL     L9018

                LDA     L0042
                BEQ     L903E

                BMI     L903B

                INC     L0043
                LDA     #$00
                STA     L0042
                BEQ     L8FFC

.L903B          CLC
                ROR     L0042
.L903E          INC     L0048
.L9040          LDA     #$20
                BNE     L906A

.L9044          INC     L0046
.L9046          CMP     #$09
                BEQ     L9054

                CMP     #$0B
                BEQ     L9054

                SEC
                ROR     L0083
                JMP     L906A

.L9054          PHA
                LDA     L0039
                STA     L0047
                LDA     #$00
                STA     L0083
                STA     L0046
                STA     L0048
                STA     L0042
                STA     L0043
                STA     L0044
                STA     L0045
                PLA
.L906A          STA     L0654,X
                INX
                CMP     #$0D
                BEQ     L9096

                CMP     #$20
                BEQ     L8FFC

                LDA     L0048
                BEQ     L8FFC

                CLC
                ADC     L0044
                STA     L0044
                LDA     L0046
                ADC     L0048
                STA     L0046
                LDA     L0045
                ADC     L0043
                STA     L0045
                LDA     #$00
                STA     L0048
                STA     L0042
                STA     L0043
                JMP     L8FFC

.L9096          LDA     L0045
                BEQ     L90AC

                LDA     L003E
                BEQ     L90AC

                SEC
                SBC     L0047
                BCC     L90AC

                SBC     L0045
                ADC     #$00
                SEC
                SBC     L0046
                BEQ     L90B5

.L90AC          LDA     #$00
                STA     L0039
                LDY     L0080
                JMP     L8F9A

.L90B5          LDA     #$00
                STA     L008E
                LDX     #$08
.L90BB          ASL     A
                ROL     L008E
                ASL     L0045
                BCC     L90C9

                CLC
                ADC     L006C
                BCC     L90C9

                INC     L008E
.L90C9          DEX
                BNE     L90BB

                STA     L008D
                LDA     L0044
                STA     L0046
                JSR     LADA8

                STA     L0045
                LDA     L008D
                STA     L0044
                LDY     #$00
                STY     L0039
.L90DF          LDA     L0654,Y
                INY
                JSR     L93E5

                PHA
                LDA     L0039
                CMP     L0047
                BEQ     L90EF

                BCS     L90F6

.L90EF          PLA
                JSR     L93DA

                JMP     L9117

.L90F6          PLA
                CMP     #$20
                BNE     L910F

                LDA     L006C
                CLC
                ADC     L0044
                TAX
                LDA     L0045
                BEQ     L9108

                INX
                DEC     L0045
.L9108          JSR     L9127

                LDA     #$20
                BNE     L9114

.L910F          LDX     L006C
                JSR     L9127

.L9114          JSR     L940B

.L9117          CMP     #$0D
                BNE     L90DF

                JMP     L8FAF

.L911E          LDX     L0069
                BPL     L9137

                LDX     L006C
                BNE     L912B

                RTS

.L9127          CPX     L0043
                BEQ     L9137

.L912B          JSR     L93F9

                PHA
                STX     L0043
                LDA     #$09
                JSR     L9457

                PLA
.L9137          RTS

.L9138          LDA     #$00
                STA     L002D
.L913C          LDA     L002D
                BNE     L9157

                LDA     L0015
                STA     L0080
                STA     L0085
                LDA     L0016
                STA     L0081
                STA     L0086
                JSR     L91F5

                BCS     L918D

                LDA     L0015
                LDY     L0016
                BNE     L9184

.L9157          LDY     #$00
                LDX     #$00
.L915B          LDA     (L001D),Y
                CMP     #$04
                BEQ     L9138

                CMP     #$40
                BEQ     L918E

                INY
.L9166          STA     L0545,X
                INX
                CMP     #$0D
                BEQ     L9176

                CPX     #$83
                BCC     L915B

                LDA     #$0D
                BNE     L9166

.L9176          TYA
                CLC
                ADC     L001D
                STA     L001D
                BCC     L9180

                INC     L001E
.L9180          LDA     L0000
                LDY     L0001
.L9184          STA     L0085
                STY     L0086
                STA     L0004
                STY     L0005
                CLC
.L918D          RTS

.L918E          INY
                LDA     (L001D),Y
                SEC
                SBC     #$30
                BCC     L91D9

                CMP     #$0A
                BCS     L91D9

                INY
                STY     L0084
                STA     L0083
                LDA     #$00
                STA     L0082
                LDY     #$02
.L91A5          DEC     L0083
                BMI     L91BD

.L91A9          INY
                LDA     (L0015),Y
                CMP     #$0D
                BEQ     L91D7

                JSR     L91DC

                BEQ     L91A9

                BVS     L91A9

                CMP     #$2C
                BEQ     L91A5

                BNE     L91A9

.L91BD          INY
                LDA     (L0015),Y
                CMP     #$0D
                BEQ     L91D7

                JSR     L91DC

                BEQ     L91BD

                BVS     L91CF

                CMP     #$2C
                BEQ     L91D7

.L91CF          STA     L0545,X
                INX
                CPX     #$82
                BCC     L91BD

.L91D7          LDY     L0084
.L91D9          JMP     L915B

.L91DC          CMP     #$3E
                BNE     L91E5

                LDA     #$00
                STA     L0082
                RTS

.L91E5          CMP     #$3C
                BNE     L91F0

                LDA     #$40
                STA     L0082
                LDA     #$00
                RTS

.L91F0          BIT     L0082
                ORA     #$00
                RTS

.L91F5          LDA     L0032
                BEQ     L9214

                LDY     #$00
.L91FB          LDA     (L0013),Y
                SEC
                BEQ     L9213

                STA     (L0085),Y
                INC     L0013
                BNE     L9208

                INC     L0014
.L9208          INC     L0085
                BNE     L920E

                INC     L0086
.L920E          CMP     #$0D
                BNE     L91FB

                CLC
.L9213          RTS

.L9214          JMP     L8C41

.L9217          LDA     L0038
                BEQ     L9238

                LDX     L0021
                JSR     L93D8

                LDX     L0025
                JSR     L93D8

                LDA     L0028
                BEQ     L9230

                LDX     #$1A
                LDY     #$07
                JSR     L92C4

.L9230          JSR     L9409

                LDX     L0023
                JSR     L93D8

.L9238          INC     L07B6
                BNE     L9240

                INC     L07B7
.L9240          LDA     #$01
                STA     L07AE
                LDA     #$00
                STA     L07AF
                STA     L0031
                RTS

.L924D          LDA     #$81
                STA     L0031
                BIT     L0069
                BVC     L9288

                JSR     L83FF

                JSR     LA7B2

                ORA     L6150
                EQUS    "Page "

                EQUB    $00

.L9262          LDX     L07B6
                LDY     L07B7
                JSR     LA66A

                JSR     LA7B2

                ROL     L002E
                JSR     LA712

                BCS     L9280

                AND     #$DF
                CMP     #$4D
                BEQ     L9288

                CMP     #$51
                BNE     L9283

.L9280          JMP     L8ECE

.L9283          LDA     #$C0
                JSR     L8412

.L9288          LDA     L0038
                BEQ     L92A4

                LDX     L0022
                JSR     L93D8

                LDA     L0029
                BEQ     L929C

                LDX     #$D8
                LDY     #$06
                JSR     L92C4

.L929C          JSR     L9409

                LDX     L0024
                JSR     L93D8

.L92A4          LDX     L0026
                LDA     L0038
                BEQ     L92C1

                LDX     #$01
                LDA     L0026
                CLC
                SBC     L0022
                BCC     L92C1

                SBC     L0024
                BCC     L92C1

                CLC
                SBC     L0023
                BCC     L92C1

                SBC     L0025
                BCC     L92C1

                TAX
.L92C1          STX     L0021
                RTS

.L92C4          STX     L0089
                STY     L008A
                LDY     #$00
                STY     L0082
                LDA     (L0089),Y
                BEQ     L9346

                JSR     L93BB

                LDA     #$00
                STA     L0039
                JSR     L9347

                JSR     L93B1

                BCS     L92E2

                JSR     L9355

.L92E2          JSR     L937C

                JSR     L932F

                JSR     L934F

                JSR     L937C

                TXA
                BEQ     L9309

                DEX
                TXA
                LSR     A
                STA     L0081
                JSR     L9372

                BEQ     L9309

                LSR     A
                SEC
                SBC     L0081
                BCC     L9309

                SBC     L0039
                BCC     L9309

                TAX
                JSR     L93CE

.L9309          JSR     L932F

                JSR     L9355

                JSR     L93B1

                BCS     L9317

                JSR     L9347

.L9317          JSR     L937C

                JSR     L9372

                BEQ     L932F

                STX     L0081
                SEC
                SBC     L0081
                BCC     L932F

                SBC     L0039
                BCC     L932F

                TAX
                INX
                JSR     L93CE

.L932F          LDY     #$00
                LDX     L0084
                BEQ     L9346

.L9335          TXA
                PHA
                LDA     L0654,Y
                JSR     L93E5

                JSR     L940B

                INY
                PLA
                TAX
                DEX
                BNE     L9335

.L9346          RTS

.L9347          JSR     L936A

                LDA     #$00
                JMP     L935E

.L934F          JSR     L936A

                JMP     L935B

.L9355          JSR     L936A

                JSR     L936C

.L935B          INY
                TYA
                DEY
.L935E          CLC
                ADC     L0089
                STA     L0087
                LDA     L008A
                ADC     #$00
                STA     L0088
                RTS

.L936A          LDY     #$FF
.L936C          INY
                LDA     (L0089),Y
                BPL     L936C

                RTS

.L9372          LDA     L003E
                BNE     L937B

                LDA     L003A
                SEC
                SBC     #$01
.L937B          RTS

.L937C          LDX     #$00
                LDY     #$00
                STY     L0081
.L9382          LDA     (L0087),Y
                BMI     L939A

                JSR     LA5B8

                BNE     L938D

                INC     L0081
.L938D          INY
                CMP     #$7C
                BEQ     L93A6

                STA     L0654,X
                INX
                CPX     #$84
                BCC     L9382

.L939A          STX     L0084
                LDA     L0069
                BPL     L93A5

                TXA
                SEC
                SBC     L0081
                TAX
.L93A5          RTS

.L93A6          LDA     (L0087),Y
                BMI     L939A

                INY
                JSR     LAD5F

                JMP     L9382

.L93B1          SEC
                LDA     L002E
                BEQ     L93BA

                LDA     L07B6
                LSR     A
.L93BA          RTS

.L93BB          JSR     L93B1

                LDA     L002F
                BCC     L93C9

                LDX     L002E
                BEQ     L93C9

                CLC
                ADC     L002C
.L93C9          TAX
                LDA     #$20
                BNE     L93DA

.L93CE          TXA
                CLC
                ADC     L0039
                STA     L0039
                LDA     #$20
                BNE     L93DA

.L93D8          LDA     #$0D
.L93DA          INX
                DEX
                BEQ     L93E4

.L93DE          JSR     L940B

                DEX
                BNE     L93DE

.L93E4          RTS

.L93E5          JSR     LA566

                BIT     L0069
                BPL     L93F0

                ORA     #$00
                BMI     L93F8

.L93F0          PHA
                TXA
                CLC
                ADC     L0039
                STA     L0039
                PLA
.L93F8          RTS

.L93F9          PHA
                LDA     L0078
                BEQ     L9407

                LDA     #$20
.L9400          JSR     L941F

                DEC     L0078
                BNE     L9400

.L9407          PLA
                RTS

.L9409          LDA     #$0D
.L940B          CMP     #$0D
                BEQ     L9416

                CMP     #$20
                BNE     L941C

                INC     L0078
                RTS

.L9416          LDA     #$00
                STA     L0078
                LDA     #$0D
.L941C          JSR     L93F9

.L941F          BIT     L0069
                BPL     L9426

                JMP     (L0017)

.L9426          JSR     LA5B8

                BNE     L943C

                PHA
                LDA     #$2D
                BCS     L9432

                LDA     #$2A
.L9432          JSR     LA52F

                JSR     OSASCI

                PLA
                JMP     LA51D

.L943C          JMP     OSASCI

.L943F          LDX     #$00
                LDY     #$04
                LDA     L0784
                BNE     L9452

                LDX     L9465
                LDY     L9466
                LDA     #$00
                STA     L006C
.L9452          STX     L0017
                STY     L0018
.L9456          RTS

.L9457          CLC
                ADC     L0017
                STA     L008D
                LDA     L0018
                ADC     #$00
                STA     L008E
                JMP     (L008D)

.L9466          STY     L004C,X
                STZ     L0094,X
                JMP     L947B

                JMP     L947F

                JMP     LA7B1

                RTS

                CMP     #$80
                BCS     L9456

                JMP     OSASCI

.L947B          LDA     #$02
                BNE     L9481

.L947F          LDA     #$03
.L9481          JMP     OSWRCH

                JSR     L94DF

                BCC     L94DE

                LDA     #$00
                BEQ     L94C3

                JSR     L94DF

                BCC     L94DE

                TXA
                BEQ     L94DE

                LSR     A
                STA     L0084
                LDA     L003E
                BEQ     L94C3

                SEC
                SBC     L003F
                LSR     A
                SEC
                ADC     L003F
                SEC
                SBC     L0084
                BCS     L94C3

                LDA     #$00
                BEQ     L94C3

                JSR     L94DF

                BCC     L94DD

                TXA
                BEQ     L94DD

                DEX
                DEX
                LDA     #$00
                CPX     L003E
                BCS     L94C3

                STX     L0083
                LDA     L003E
                SEC
                SBC     L0083
.L94C3          LDY     #$03
                TAX
                BEQ     L94D0

                LDA     #$20
.L94CA          STA     (L0004),Y
                INY
                DEX
                BNE     L94CA

.L94D0          LDA     L0654,X
                STA     (L0004),Y
                INY
                INX
                CMP     #$0D
                BNE     L94D0

                INC     L0030
.L94DD          SEC
.L94DE          RTS

.L94DF          LDX     #$00
                STX     L0083
                LDY     #$03
                JSR     L97D9

                CLC
                BEQ     L9511

.L94EB          LDA     (L0004),Y
                INY
                CMP     #$7C
                BEQ     L9512

.L94F2          STA     L0654,X
                JSR     LA5B8

                BNE     L94FC

                INC     L0083
.L94FC          INX
                CMP     #$0D
                BEQ     L9509

                CPX     #$83
                BCC     L94EB

                LDA     #$0D
                BNE     L94F2

.L9509          LDA     L0069
                BPL     L9511

                TXA
                SBC     L0083
                TAX
.L9511          RTS

.L9512          LDA     (L0004),Y
                CMP     #$0D
                BEQ     L94F2

                INY
                JSR     LAD5F

                JMP     L94EB

                LDX     #$D8
                LDY     #$06
                BNE     L9529

                LDX     #$1A
                LDY     #$07
.L9529          STX     L0087
                STY     L0088
                LDA     #$00
                STA     L0081
                STA     L007A
                LDY     #$03
                STY     L0080
                LDA     (L0004),Y
                STA     L0083
                LDX     #$3F
.L953D          INY
                STY     L0082
                LDA     (L0004),Y
                CMP     #$0D
                BEQ     L9550

                CMP     #$1B
                BCS     L954C

                LDA     #$20
.L954C          CMP     L0083
                BNE     L9552

.L9550          ORA     #$80
.L9552          JSR     L9566

                CMP     #$8D
                BEQ     L955E

                LDY     L0082
                DEX
                BNE     L953D

.L955E          LDA     #$80
                JSR     L9566

                JSR     L9566

.L9566          LDY     L0081
                STA     (L0087),Y
                INY
                STY     L0081
                RTS

                LDY     #$03
                JSR     L97D9

                BEQ     L958F

                INY
                JSR     LAD21

                BCS     L958F

                LDA     L008B
                STA     L0085
                LDA     L008C
                STA     L0086
                JSR     L976C

                LDY     #$00
                STA     (L0085),Y
                INY
                LDA     L008E
                STA     (L0085),Y
.L958F          RTS

                LDY     #$03
                JSR     L976C

                STA     L0026
                RTS

                LDY     #$03
                JSR     L9716

                BCS     L95A6

                STA     L002E
                JSR     L976C

                STA     L002C
.L95A6          RTS

                LDY     #$03
                JSR     L976C

                STA     L0022
                RTS

                LDY     #$03
                JSR     L976C

                STA     L0023
                RTS

                LDY     #$03
                JSR     L976C

                STA     L0024
                RTS

                LDY     #$03
                JSR     L976C

                STA     L0025
                RTS

                LDY     #$03
                JSR     L976C

                STA     L002F
                RTS

                LDY     #$03
                JSR     L976C

                STA     L0027
                RTS

                LDY     #$03
                JSR     L976C

                TAX
                BEQ     L95F9

                CMP     L0021
                BCC     L95E7

                LDA     L0031
                BNE     L95F9

.L95E7          RTS

                LDA     L07B6
                LSR     A
                BCC     L95F9

                BCS     L95F6

                LDA     L07B6
                LSR     A
                BCS     L95F9

.L95F6          JSR     L95F9

.L95F9          LDA     L0031
                BNE     L9600

                JSR     L924D

.L9600          JMP     L9217

                LDY     #$03
                JSR     L9716

                BCS     L960C

                STA     L0028
.L960C          RTS

                LDY     #$03
                JSR     L9716

                BCS     L9616

                STA     L0029
.L9616          RTS

                LDY     #$03
                JSR     L9716

                BCS     L9620

                STA     L0038
.L9620          RTS

                LDA     L002D
                BNE     L9616

                LDA     L001B
                STA     L008B
                LDA     L001C
                STA     L008C
                LDY     #$03
                LDA     (L0004),Y
                AND     #$DF
                STA     L0084
                INY
                LDA     (L0004),Y
                JSR     L8C1F

                BCC     L9641

                LDA     #$20
                BNE     L9643

.L9641          AND     #$DF
.L9643          DEY
                STA     (L001B),Y
                DEY
                LDA     L0084
                STA     (L001B),Y
                LDA     #$04
                CLC
                ADC     L001B
                STA     L001B
                BCC     L9656

                INC     L001C
.L9656          LDA     HIMEMlsb
                SEC
                SBC     L001B
                TAX
                LDA     HIMEMmsb
                SBC     L001C
                BNE     L966C

                CPX     #$97
                BCS     L966C

                JSR     L8FE0

                JMP     L84F3

.L966C          LDA     L001B
                STA     L0085
                STA     L0080
                STA     L0004
                LDA     L001C
                STA     L0086
                STA     L0081
                STA     L0005
                JSR     L91F5

                BCC     L9682

                RTS

.L9682          LDY     #$00
                LDA     (L001B),Y
                JSR     LAF29

                BNE     L96AC

                JSR     L96E4

                CPX     #$05
                BNE     L96AC

                LDA     #$04
                LDY     #$00
                STA     (L001B),Y
                INC     L001B
                BNE     L969E

                INC     L001C
.L969E          LDA     #$00
                STA     (L001B),Y
                LDA     L001B
                STA     (L008B),Y
                INY
                LDA     L001C
                STA     (L008B),Y
                RTS

.L96AC          LDA     L0085
                STA     L001B
                LDA     L0086
                STA     L001C
                BNE     L9656

                LDY     #$03
                JSR     L97D9

                BEQ     L96E3

                TAX
                LDA     #$00
                CPX     #$2D
                BEQ     L96CA

                LDA     #$01
                CPX     #$2A
                BNE     L96CD

.L96CA          INY
                BNE     L96D9

.L96CD          JSR     L976C

                SEC
                SBC     #$01
                BCC     L96E3

                CMP     #$02
                BCS     L96E3

.L96D9          PHA
                JSR     L976C

                PLA
                TAX
                LDA     L008D
                STA     L002A,X
.L96E3          RTS

.L96E4          LDY     #$02
                LDA     (L0004),Y
                STA     L0088
                DEY
                LDA     (L0004),Y
                STA     L0087
                DEY
                LDX     #$00
.L96F2          LDA     L0087
                CMP     LB263,Y
                BNE     L9700

                LDA     L0088
                CMP     LB264,Y
                BEQ     L9708

.L9700          INX
                INY
                INY
                LDA     LB263,Y
                BPL     L96F2

.L9708          RTS

.L9709          TXA
                LDY     #$02
                LDX     #$00
                STX     L0030
                JSR     LA84A

                LDX     L0030
                RTS

.L9716          JSR     L97D9

                SEC
                BEQ     L9763

                LDA     L0004
                LDX     L0005
.L9720          STA     L008D
                STX     L008E
                LDA     (L008D),Y
                TAX
                LDA     #$01
                CPX     #$31
                BEQ     L9733

                LDA     #$00
                CPX     #$30
                BNE     L9737

.L9733          CLC
                INY
                BNE     L9763

.L9737          DEY
                STY     L0084
                LDX     #$FF
.L973C          INY
                LDA     (L008D),Y
                JSR     L8C17

                INX
                CMP     L9764,X
                BEQ     L973C

                LDA     L9764,X
                BMI     L9762

                CMP     #$20
                BCC     L9763

.L9751          INX
                LDA     L9764,X
                BMI     L9762

                CMP     #$20
                BCS     L9751

                LDY     L0084
                LDA     L9765,X
                BPL     L973C

.L9762          SEC
.L9763          RTS

.L9764          EQUS    "O"

.L9765          EQUS    "N"

                EQUB    $01

                EQUS    "OFF"

                EQUB    $00,$FF

.L976C          LDA     #$00
                STA     L008D
                STA     L008E
                STA     L0080
.L9774          JSR     L97D9

                BEQ     L97D5

                CMP     #$7C
                BNE     L9789

                JSR     L97D8

                BEQ     L97D5

                INY
                JSR     LAD39

                JMP     L9790

.L9789          JSR     LA6B6

                STA     L008D
                STX     L008E
.L9790          LDX     L0080
                BEQ     L97B8

                LDA     #$00
                STA     L0080
                DEX
                BEQ     L97AB

                LDA     L0089
                SEC
                SBC     L008D
                STA     L008D
                LDA     L008A
                SBC     L008E
                STA     L008E
                JMP     L97B8

.L97AB          LDA     L0089
                CLC
                ADC     L008D
                STA     L008D
                LDA     L008A
                ADC     L008E
                STA     L008E
.L97B8          LDA     L008D
                STA     L0089
                LDA     L008E
                STA     L008A
                JSR     L97D9

                BEQ     L97D5

                LDX     #$01
                CMP     #$2B
                BEQ     L97D0

                INX
                CMP     #$2D
                BNE     L97D5

.L97D0          STX     L0080
                INY
                BNE     L9774

.L97D5          LDA     L008D
                RTS

.L97D8          INY
.L97D9          LDA     (L0004),Y
                CMP     #$0D
                BEQ     L97E3

                CMP     #$20
                BEQ     L97D8

.L97E3          RTS

.L97E4          LDA     L0050
                BNE     L97E3

                STA     L0046
                STA     L0039
                STA     L0042
                LDA     L003E
                BEQ     L97E3

                JSR     LAAA9

                STY     L0043
                LDY     #$00
                BEQ     L9815

.L97FB          LDA     L0039
                STA     L0084
                INY
                CPY     L0043
                BEQ     L9825

                CLC
                JSR     L98EA

                BEQ     L9810

                CMP     #$20
                BNE     L97FB

                INC     L0046
.L9810          INY
                CPY     L0043
                BEQ     L9821

.L9815          SEC
                JSR     L98EA

                BEQ     L9810

                CMP     #$20
                BNE     L97FB

                BEQ     L9810

.L9821          DEC     L0046
                BMI     L97E3

.L9825          LDA     L0046
                BEQ     L97E3

                LDA     L003E
                SEC
                SBC     L0084
                BCC     L97E3

                ADC     #$00
                TAX
                ADC     L0043
                SEC
                SBC     #$84
                BCC     L9840

                STA     L0084
                TXA
                SBC     L0084
                TAX
.L9840          STX     L0082
                STX     L008D
                LDA     #$00
                STA     L008E
                JSR     LADA8

                STA     L0045
                LDA     L008D
                STA     L0044
                LDY     #$00
                LDX     L0046
                TYA
.L9856          STA     L0500,Y
                INY
                DEX
                BNE     L9856

                LDY     L0078
                INY
                CPY     L0046
                BCC     L9866

                LDY     #$01
.L9866          DEY
                LDX     L0046
.L9869          LDA     L0045
                BEQ     L9871

                LDA     #$01
                DEC     L0045
.L9871          CLC
                ADC     L0044
                STA     L0500,Y
                LDA     L0082
                SEC
                SBC     L0500,Y
                PHP
                STA     L0082
                INY
                CPY     L0046
                BCC     L9887

                LDY     #$00
.L9887          PLP
                BEQ     L988D

                DEX
                BNE     L9869

.L988D          STY     L0078
                LDY     #$00
                STY     L0081
                STY     L0039
                LDA     #$1A
                JSR     LAAC7

                LDA     L0042
                BEQ     L98AA

                LDY     #$00
.L98A0          LDA     L0654,Y
                STA     (L0002),Y
                INY
                CPY     L0042
                BNE     L98A0

.L98AA          LDY     L0042
                LDX     L0042
.L98AE          LDA     L0654,X
                CMP     #$20
                BNE     L98D4

                LDA     L0081
                BEQ     L98D0

                STY     L0084
                LDY     L0039
                CPY     L0046
                LDA     #$00
                BCS     L98C6

                LDA     L0500,Y
.L98C6          CLC
                ADC     L0084
                INC     L0039
                TAY
                LDA     #$00
                STA     L0081
.L98D0          LDA     #$20
                BNE     L98D6

.L98D4          INC     L0081
.L98D6          STA     (L0002),Y
                INY
                INX
                CPX     L0043
                BNE     L98AE

                LDA     #$10
.L98E0          CPY     #$84
                BCS     L98E9

                STA     (L0002),Y
                INY
                BNE     L98E0

.L98E9          RTS

.L98EA          ROR     L0083
                LDA     (L0002),Y
                STA     L0654,Y
                CMP     #$09
                BNE     L98FE

                JSR     LA566

                TXA
                CLC
                ADC     L0039
                BNE     L9910

.L98FE          CMP     #$0B
                BNE     L991D

                LDA     L003F
                BEQ     L991B

                LDX     L0039
                BEQ     L9910

                CPX     L003F
                BCC     L9910

                INX
                TXA
.L9910          STA     L0039
                STY     L0042
                INC     L0042
                LDA     #$00
                STA     L0046
                RTS

.L991B          LDA     #$20
.L991D          CMP     #$1B
                BCC     L991B

                CMP     #$20
                BCC     L9927

                INC     L0039
.L9927          RTS

.L9928          JMP     L9A41

.L992B          INC     L007D
                LDY     #$04
                STY     L0078
                LDY     #$00
                STY     L007F
                STY     L007E
                LDA     (L0008),Y
                JSR     LAF29

                BEQ     L9928

.L993E          LDA     L004F
                AND     #$81
                BNE     L9928

                LDA     L003E
                BEQ     L9928

                SEC
                SBC     L003F
                BCC     L9928

                ADC     #$01
                STA     L0080
                LDA     #$10
                JSR     LAAC7

                LDA     L0008
                STA     L008B
                LDA     L0009
                STA     L008C
                LDY     #$00
                STY     L0047
                STY     L0039
                STY     L0038
                STY     L0046
                STY     L0023
.L996A          STY     L0048
                LDY     L0047
.L996E          JSR     LA4EE

                BNE     L997B

                LDA     #$00
                STA     L0054,X
                INC     L007E
                BNE     L996E

.L997B          LDY     L0047
.L997D          LDA     (L0008),Y
                INY
                STY     L0047
                CMP     #$09
                BNE     L9994

                JSR     LA566

                DEX
                TXA
                CLC
                ADC     L0039
                STA     L0039
                LDA     #$09
                BNE     L99D5

.L9994          CMP     #$1A
                BNE     L99A2

.L9998          LDA     L0046
                BNE     L997D

                LDX     #$FF
                LDA     #$20
                BNE     L99E2

.L99A2          CMP     #$0B
                BNE     L99C5

                LDX     L007F
                BNE     L9998

                LDA     L0038
                BNE     L9998

                INC     L0038
                LDA     L003F
                BEQ     L997D

                LDX     L0039
                CPX     L003F
                BCS     L99BE

                STA     L0039
                DEC     L0039
.L99BE          CLC
                ADC     L0080
                STA     L0080
                LDA     #$0B
.L99C5          CMP     #$0D
                BNE     L99D5

                DEY
                BEQ     L9A41

                JSR     L9A75

                BCS     L9A3B

                LDA     #$20
                STA     L007F
.L99D5          LDY     L0048
                LDX     #$00
                CMP     #$20
                BNE     L99E2

                INX
                BIT     L0046
                BMI     L99F4

.L99E2          LDY     L0048
                STA     (L0002),Y
                CMP     #$20
                BNE     L99EC

                ROR     L0023
.L99EC          INY
                JSR     LA5B8

                BEQ     L99F4

                INC     L0039
.L99F4          BIT     L0046
                STX     L0046
                BMI     L9A0C

                CMP     #$20
                BEQ     L9A0C

                CPY     #$85
                BCS     L9A14

                LDA     L0023
                BEQ     L9A0C

                LDA     L0039
                CMP     L0080
                BCS     L9A14

.L9A0C          CPY     #$86
                BCC     L9A11

                DEY
.L9A11          JMP     L996A

.L9A14          INC     L0047
.L9A16          DEC     L0047
                DEY
                BEQ     L9A41

                LDA     (L0002),Y
                PHA
                LDA     #$10
                STA     (L0002),Y
                PLA
                CMP     #$20
                BNE     L9A16

                SEC
                ROR     L007F
                JSR     LAE8E

                JSR     L97E4

                JSR     L9A5D

                JSR     L9A41

                BEQ     L9A59

                JMP     L993E

.L9A3B          JSR     LAE8E

                JSR     L9A5D

.L9A41          JSR     L9E4C

                LDA     L0008
                LDY     L0009
                JSR     LAAD2

                SEC
                BEQ     L9A59

                TYA
                CLC
                ADC     L0085
                STA     L0008
                BCC     L9A58

                INC     L0009
.L9A58          CLC
.L9A59          CLV
                LDA     L007E
                RTS

.L9A5D          SEC
                ROL     L007E
                LDY     L0047
                DEY
                STY     L003B
                INC     L006E
                JSR     LA871

                BCC     L9A74

                PLA
                PLA
                LDA     #$40
                STA     L0084
                BIT     L0084
.L9A74          RTS

.L9A75          TYA
                SEC
                ADC     L0008
                STA     L008D
                STA     L0089
                LDA     L0009
                ADC     #$00
                STA     L008E
                STA     L008A
                LDY     #$00
                STY     L0083
.L9A89          LDA     (L0089),Y
                BEQ     L9AE3

                JSR     LAF29

                BEQ     L9AE3

                CMP     #$0D
                BEQ     L9AE3

                TYA
                BNE     L9ABA

                STY     L0084
                BEQ     L9AA3

.L9A9D          INC     L008D
                BNE     L9AA3

                INC     L008E
.L9AA3          LDA     (L008D),Y
                BEQ     L9ABA

                CMP     #$0D
                BEQ     L9ABA

                CMP     #$09
                BEQ     L9AE3

                CMP     #$0B
                BNE     L9A9D

                ROL     L0084
                SEC
                ROR     L0084
                BCS     L9A9D

.L9ABA          LDA     (L0089),Y
                CMP     #$20
                BNE     L9ACE

                LDX     L003F
                BEQ     L9AE3

                LDX     L0084
                BEQ     L9AE3

                LDX     L0083
                BNE     L9AE3

                BEQ     L9AD4

.L9ACE          CMP     #$0B
                BNE     L9AD7

                STA     L0083
.L9AD4          INY
                BNE     L9A89

.L9AD7          LDA     L003F
                BEQ     L9AE5

                LDA     L0084
                BEQ     L9AE5

                LDA     L0083
                BNE     L9AE5

.L9AE3          SEC
                RTS

.L9AE5          CLC
                RTS

.L9AE7          JSR     LB054

.L9AEA          LDA     L004F
                PHA
                LDA     L006E
                BNE     L9AF8

                PHA
                JSR     LAA4F

                PLA
                STA     L006E
.L9AF8          JSR     LA5C0

                LDA     L003F
                BEQ     L9B27

                LDX     L004F
                BMI     L9B27

                CMP     L0072
                BCC     L9B27

                BEQ     L9B27

                LDX     L007D
                BNE     L9B1E

                JSR     LAAA9

                LDA     L004F
                CPY     L0040
                BCS     L9B38

                BIT     L004F
                BVS     L9B1E

                STY     L0040
                BVC     L9B38

.L9B1E          LDA     L003F
                STA     L0072
                INC     L0079
                JSR     LA5C0

.L9B27          LDA     L004F
                AND     #$BF
                PHA
                JSR     LAE7A

                PLA
                BCS     L9B3A

                CPY     L0040
                BCC     L9B3A

                BEQ     L9B3A

.L9B38          ORA     #$40
.L9B3A          STA     L004F
                PLA
                CMP     L004F
                BEQ     L9B43

                INC     L0075
.L9B43          LDA     #$00
                STA     L007D
                JSR     LA22E

.L9B4A          JSR     LA719

                CMP     L007B
                BNE     L9B53

                LDA     #$09
.L9B53          STA     L0038
                CMP     #$C0
                BCS     L9B88

                TAY
                BMI     L9B73

                CMP     #$20
                BCC     L9B64

                CMP     #$7F
                BCC     L9B88

.L9B64          LDY     #$00
.L9B66          LDA     LB105,Y
                BMI     L9B4A

                INY
                CMP     L0038
                BNE     L9B66

                TYA
                ADC     #$86
.L9B73          SEC
                SBC     #$88
                CMP     #$34
                BCS     L9B4A

                LDY     #$00
                JSR     LA84A

                JMP     L9AEA

.L9B82          JSR     LACA0

                JMP     L9AEA

.L9B88          LDY     L0040
                CPY     #$84
                BCS     L9B82

                INC     L006D
                JSR     LAEAC

                BCS     L9B82

                LDA     L0002
                STA     L008B
                LDA     L0003
                STA     L008C
                LDY     L0040
                JSR     LA4EE

                BNE     L9BAA

                CPX     #$04
                BCS     L9BAA

                INC     L0074
.L9BAA          LDX     L0051
                BNE     L9BB8

                LDA     (L0002),Y
                CMP     #$09
                BEQ     L9BB8

                CMP     #$0B
                BNE     L9BC1

.L9BB8          INC     L0074
                LDX     #$01
                JSR     LADBE

                BCS     L9C37

.L9BC1          LDA     L0038
                STA     (L0002),Y
                LDY     L0074
                BNE     L9BCC

                JSR     OSWRCH

.L9BCC          INC     L0040
                JSR     LA63C

                LDY     #$00
                STY     L0039
.L9BD5          LDA     (L0002),Y
                INY
                CPY     L0040
                BCS     L9C0E

                CMP     #$09
                BNE     L9BE9

                JSR     LA566

                TXA
                CLC
                ADC     L0039
                BNE     L9BFB

.L9BE9          CMP     #$0B
                BNE     L9C02

                LDA     L003F
                BEQ     L9C00

                LDX     L0039
                BEQ     L9BFB

                CPX     L003F
                BCC     L9BFB

                INX
                TXA
.L9BFB          STA     L0039
                JMP     L9BD5

.L9C00          LDA     #$20
.L9C02          CMP     #$1B
                BCC     L9C00

                CMP     #$20
                BCC     L9BD5

                INC     L0039
                BNE     L9BD5

.L9C0E          LDY     L0039
                CPY     L003A
                BCS     L9C1F

                LDA     (L0006),Y
                AND     #$DF
                CMP     #$42
                BNE     L9C1F

                JSR     LACA0

.L9C1F          LDA     L0038
                CMP     #$20
                BEQ     L9C37

                LDA     L003E
                BEQ     L9C37

                LDA     L004F
                BNE     L9C37

                STA     L008C
                TYA
                BEQ     L9C37

                DEY
                CPY     L003E
                BCS     L9C3A

.L9C37          JMP     L9AEA

.L9C3A          JSR     LAAA9

                STY     L0083
                LDA     #$00
                STA     L0022
                LDY     L0040
                STY     L0080
                JSR     LAEEB

                JSR     LA5C0

                LDA     L0072
                CMP     L003F
                BEQ     L9C55

                BCS     L9C5A

.L9C55          LDY     L0080
                DEY
                STY     L0040
.L9C5A          LDA     L0080
                SEC
                SBC     L0040
                STA     L0022
                LDA     L0083
                SEC
                SBC     L0040
                STA     L0083
                TAY
                INY
                LDA     L003F
                BEQ     L9C71

                INC     L0022
                INY
.L9C71          STY     L008B
                LDA     L0008
                SEC
                ADC     L003B
                STA     L0089
                LDA     L0009
                ADC     #$00
                STA     L008A
                JSR     LA9CD

                BCC     L9C88

                JMP     LA8F9

.L9C88          LDY     #$00
                LDA     L003F
                BEQ     L9C93

                LDA     #$0B
                STA     (L0089),Y
                INY
.L9C93          STY     L0081
                LDA     L0002
                STA     L008B
                LDA     L0003
                STA     L008C
                LDY     L0040
                DEY
                LDA     (L0002),Y
                CMP     #$20
                BNE     L9CAA

                LDA     #$10
                STA     (L0002),Y
.L9CAA          INY
                STY     L0082
.L9CAD          LDY     L0082
                INC     L0082
.L9CB1          JSR     LA4EE

                BNE     L9CC5

                LDA     L0081
                CLC
                ADC     L0089
                STA     L0053,X
                LDA     L008A
                ADC     #$00
                STA     L0054,X
                BCC     L9CB1

.L9CC5          LDA     L0083
                BNE     L9CE0

                LDA     #$0D
                BNE     L9CE8

.L9CCD          JSR     L97E4

                JSR     LA8F4

                JSR     LA6F9

                JSR     L9D33

                LDA     L0022
                STA     L0040
                JMP     L9AEA

.L9CE0          LDA     (L0002),Y
                PHA
                LDA     #$10
                STA     (L0002),Y
                PLA
.L9CE8          LDY     L0081
                INC     L0081
                STA     (L0089),Y
                DEC     L0083
                BPL     L9CAD

                BMI     L9CCD

                LDY     L0040
                LDA     (L0002),Y
                JSR     L8C1F

                BCS     L9D03

                INC     L0074
                EOR     #$20
                STA     (L0002),Y
.L9D03          LDY     L0040
                CPY     #$84
                BCS     L9D0B

                INC     L0040
.L9D0B          RTS

                LDY     L0072
                BEQ     L9D12

                DEC     L0040
.L9D12          RTS

                JSR     LA8F4

                LDA     L0008
                LDY     L0009
                JSR     LAAEF

                BCC     L9D2B

                LDA     L0085
                STA     L0008
                LDA     L0086
                STA     L0009
                INC     L0079
                INC     L007D
.L9D2B          RTS

                JSR     LA8F4

                INC     L0079
                BNE     L9D53

.L9D33          JSR     LA8F4

                LDA     #$00
                STA     L0040
                LDA     L0008
                STA     L0085
                LDA     L0009
                STA     L0086
                JSR     LAAE1

                BNE     L9D53

                TYA
                LDY     L0009
                CLC
                ADC     L0008
                BCC     L9D50

                INY
.L9D50          JSR     L9D99

.L9D53          INC     L007D
                LDA     L0008
                LDY     L0009
                JSR     LAAD2

                BEQ     L9D68

                TYA
                CLC
                ADC     L0008
                STA     L0008
                BCC     L9D68

                INC     L0009
.L9D68          RTS

                JSR     LA8F4

                JSR     LAAA9

                CPY     L0040
                BCC     L9D75

                LDY     L0040
.L9D75          INC     L0079
                TYA
                TAX
                LDY     #$00
                LDA     (L0004),Y
                JSR     LAF29

                BNE     L9D85

                INX
                INX
                INX
.L9D85          LDY     L0009
                TXA
                CLC
                ADC     L0008
                BCC     L9D9B

                INY
                BNE     L9D9B

.L9D90          JSR     LA8F4

                LDA     L0008
                LDY     L0009
                INC     L0079
.L9D99          INC     L007D
.L9D9B          STA     L0089
                STY     L008A
                LDA     #$01
                STA     L008B
                LDA     #$00
                STA     L008C
                JSR     LA9CD

                BCS     L9DB5

                LDA     #$0D
                LDY     #$00
                STA     (L0089),Y
                JMP     LA6F9

.L9DB5          JMP     LA8F9

.L9DB8          LDA     L0072
                BEQ     L9DE7

                DEC     L0040
                LDY     L0040
                LDA     (L0002),Y
                PHA
                JSR     L9E01

                PLA
                CMP     #$0C
                BCC     L9DE7

                LDX     L0051
                BNE     L9DE7

                JSR     LAAA9

                CPY     L0040
                BCC     L9DE7

                BEQ     L9DE7

.L9DD8          LDA     #$20
.L9DDA          PHA
                LDX     #$01
                JSR     LADBE

                PLA
                BCS     L9DE7

                STA     (L0002),Y
                INC     L0074
.L9DE7          RTS

                LDA     #$09
                BNE     L9DF2

                LDA     #$1C
                BNE     L9DF2

.L9DF0          LDA     #$1D
.L9DF2          PHA
                JSR     LAEAC

                PLA
                BCS     L9DE7

                JSR     L9DDA

                BCS     L9DE7

                JMP     L9D03

.L9E01          LDX     #$01
                INC     L0074
                JMP     LAE1C

                JSR     LA8F4

                INC     L007D
                LDA     L0008
                STA     L0089
                LDA     L0009
                STA     L008A
                LDX     L003B
                INX
                STX     L008B
                LDA     #$00
                STA     L008C
                JSR     LA968

                JSR     LB013

                LDY     #$00
                LDA     (L0008),Y
                BNE     L9E39

                LDA     L0008
                LDY     L0009
                JSR     LAAEF

                LDA     L0085
                STA     L0008
                LDA     L0086
                STA     L0009
.L9E39          INC     L0079
                JMP     LA6F9

.L9E3E          BIT     L004F
                BVC     L9E4C

                JSR     LAE7A

                BCS     L9E4A

                STY     L0040
                RTS

.L9E4A          INC     L007D
.L9E4C          LDA     #$00
                STA     L0040
                RTS

.L9E51          INC     L007D
.L9E53          JSR     LAAA9

                STY     L0040
                RTS

.L9E59          JSR     LA8F4

                LDA     L0008
                STA     L0085
                LDA     L0009
                STA     L0086
                JSR     LAAE1

                BEQ     L9E92

                JSR     LAF29

                BEQ     L9E92

                DEY
                TYA
                CLC
                ADC     L0008
                STA     L0089
                LDA     L0009
                ADC     #$00
                STA     L008A
                LDA     #$00
                STA     L008C
                LDA     #$01
                STA     L008B
                JSR     LA968

                LDA     L0008
                LDY     L0009
                JSR     LAC30

                INC     L0079
                JMP     LA6F9

.L9E92          JMP     LACA0

                LDA     #$84
                SEC
                SBC     L0040
                TAX
                INC     L0074
                JMP     LAE1C

                JSR     L9E4C

                JSR     LA22E

                INC     L006D
                LDA     #$00
                STA     L0080
                STA     L0081
.L9EAE          LDX     L0080
                LDY     L0077
                JSR     LA7A2

                JSR     LA719

                BCS     L9EDE

                CMP     #$0D
                BEQ     L9EDE

                AND     #$DF
                CMP     #$41
                BCC     L9EAE

                CMP     #$5B
                BCS     L9EAE

                STA     L0081
                JSR     OSWRCH

                LDY     L0080
                INY
                STY     L0080
                STA     (L0000),Y
                CPY     #$02
                BCC     L9EAE

                LDA     #$00
                STA     L0080
                BEQ     L9EAE

.L9EDE          LDA     L0081
                BEQ     L9F37

                LDA     L0000
                STA     L0004
                LDA     L0001
                STA     L0005
                LDY     #$00
                LDA     #$80
                STA     (L0004),Y
                JMP     LAF14

.L9EF3          LDA     L0000
                STA     L0004
                LDA     L0001
                STA     L0005
                LDY     #$00
                LDA     #$81
                STA     (L0004),Y
                INY
                LDA     #$2E
                STA     (L0004),Y
                INY
                LDA     #$2E
                STA     (L0004),Y
                INC     L0074
                LDA     L006E
                BMI     L9F17

                LDA     #$80
                STA     L006E
                INC     L006D
.L9F17          JMP     LAF14

                LDY     #$00
                LDA     (L0004),Y
                JSR     LAF29

                BNE     L9F37

                TYA
                STA     (L0004),Y
                LDA     L0002
                STA     L0004
                LDA     L0003
                STA     L0005
                JSR     LAF17

                INC     L0074
                INC     L006D
                INC     L007D
.L9F37          RTS

.L9F38          JSR     LA8F4

                LDA     L0008
                LDY     L0009
                JSR     LAAEF

                BCC     L9F37

                LDA     L0085
                STA     L0008
                LDA     L0086
                STA     L0009
                JSR     LAA4F

                JSR     L9E53

                DEC     L006F
                RTS

                LDY     L0040
                BEQ     L9F38

                JSR     LAEEB

                BNE     L9F62

                CMP     #$20
                BEQ     L9F38

.L9F62          RTS

.L9F63          STY     L0040
                JSR     LA8F4

                LDA     L0008
                LDY     L0009
                JSR     LAAD2

                BEQ     L9FC9

                TYA
                CLC
                ADC     L0008
                STA     L0008
                BCC     L9F7B

                INC     L0009
.L9F7B          JSR     LAA4F

                DEC     L006F
                JSR     L9E4C

                JSR     LAAA9

                CPY     L0040
                BEQ     L9FC9

                LDA     L0002
                STA     L0085
                LDA     L0003
                STA     L0086
                LDY     L0040
                JSR     LA563

                CMP     #$20
                BNE     L9FC9

                LDA     L0002
                STA     L0085
                LDA     L0003
                STA     L0086
                JSR     LAAA9

                STY     L0080
                CPY     L0040
                BCC     L9F63

                BEQ     L9F63

                LDY     L0040
.L9FB0          CPY     L0080
                BCS     L9FC7

                JSR     LA563

                CMP     #$20
                BNE     L9FB0

.L9FBB          CPY     L0080
                BCS     L9FC7

                JSR     LA563

                CMP     #$20
                BEQ     L9FBB

                DEY
.L9FC7          STY     L0040
.L9FC9          RTS

                JSR     LA8F4

                JSR     LAC8F

                BCS     L9FC9

                TXA
                ADC     #$53
                TAX
                JSR     LACFF

                JMP     L9FED

                JSR     LA8F4

                JSR     LAC8F

                BCS     L9FC9

                BEQ     L9FC9

                LDA     L0053,X
                LDY     L0054,X
                JSR     LAB83

.L9FED          LDA     #$01
                STA     L0073
                JMP     LA63C

.L9FF4          JSR     LA8F4

                LDA     L0073
                PHA
                LDA     L003D
                PHA
                JSR     LA6F9

                JSR     L992B

                BVS     LA013

                SEC
                BNE     LA009

                CLC
.LA009          PLA
                TAX
                PLA
                BCS     LA012

                STX     L003D
                STA     L0073
.LA012          RTS

.LA013          JMP     LA8F9

                LDX     #$FF
                STX     L006F
                JSR     LA029

                JSR     LAA4F

                JMP     L9E4C

                LDX     L0035
                INC     L0079
                INC     L006F
.LA029          INC     L007D
                STX     L0080
                JSR     LA8F4

                LDA     L0008
                LDY     L0009
.LA034          STA     L0087
                STY     L0088
                JSR     LAAEF

                LDA     L0085
                LDY     L0086
                BCC     LA04B

                LDX     L0080
                BMI     LA034

                DEC     L0080
                BNE     LA034

                BEQ     LA04F

.LA04B          LDA     L0087
                LDY     L0088
.LA04F          STA     L0008
                STY     L0009
                RTS

                LDX     #$FF
                STX     L006F
                JSR     LA067

                JSR     LAA4F

                JMP     L9E53

                LDX     L0035
                INC     L0079
                INC     L006F
.LA067          INC     L007D
                STX     L0080
                JSR     LA8F4

                LDA     L0008
                LDY     L0009
.LA072          JSR     LAAD2

                BEQ     LA08A

                TYA
                LDY     L0086
                CLC
                ADC     L0085
                BCC     LA080

                INY
.LA080          LDX     L0080
                BMI     LA072

                DEC     L0080
                BNE     LA072

                BEQ     LA08E

.LA08A          LDA     L0085
                LDY     L0086
.LA08E          STA     L0008
                STY     L0009
                RTS

                JSR     L9D90

                JSR     LA22E

                LDX     L003A
                BEQ     LA0A7

                LDY     #$00
.LA09F          LDA     (L0006),Y
                STA     (L0002),Y
                INY
                DEX
                BNE     LA09F

.LA0A7          JMP     L9EF3

                JSR     L9D90

                JSR     LA22E

                JSR     L9EF3

                LDA     L0002
                LDY     L0003
                JMP     LB099

                LDX     #$43
                LDY     #$48
                JSR     LA760

                INC     L0075
                JSR     LA719

                CMP     #$09
                BEQ     LA0E2

                CMP     #$A0
                BNE     LA0D2

                LDA     #$1C
                BNE     LA0E2

.LA0D2          CMP     #$A1
                BNE     LA0DA

                LDA     #$1D
                BNE     LA0E2

.LA0DA          CMP     #$20
                BCC     LA109

                CMP     #$7F
                BCS     LA109

.LA0E2          STA     L0080
                INC     L0074
                LDY     L0040
                STY     L0081
.LA0EA          CPY     #$84
                BCS     LA109

                LDA     (L0002),Y
                INY
                CMP     L0080
                BNE     LA0EA

.LA0F5          CPY     #$84
                BCS     LA109

                LDA     (L0002),Y
                INY
                CMP     L0080
                BEQ     LA0F5

                DEY
                TYA
                SEC
                SBC     L0081
                TAX
                JMP     LAE1C

.LA109          JMP     LACA0

                LDA     L004F
                AND     #$BF
                BIT     L004F
                BVC     LA116

                ORA     #$01
.LA116          EOR     #$01
                STA     L004F
                INC     L0075
                RTS

                LDA     L0050
                EOR     #$FF
                STA     L0050
                INC     L0075
                RTS

                LDA     L0051
                EOR     #$FF
                STA     L0051
                INC     L0075
.LA12E          RTS

                JSR     LA8F4

                INC     L007D
                JSR     LACD0

                BCS     LA181

                LDA     L005F
                LDY     L0060
                JSR     LAB83

                JSR     LA6F9

                JSR     L8987

                JSR     LB013

                JMP     LACC6

.LA14C          JSR     LA8F4

                JSR     LACD0

                BCS     LA181

                JSR     LA184

                BCS     LA12E

                LDX     #$FF
                STX     L0012
                STX     L006F
                JSR     L8987

                JSR     LB013

                LDA     L0063
                LDY     L0064
                JSR     LAB83

                JMP     LACC6

                JSR     LA8F4

                JSR     LACD0

                BCS     LA181

                JSR     LA184

                LDA     L0063
                LDY     L0064
                JMP     LAB83

.LA181          JMP     LACA0

.LA184          LDA     L0063
                LDY     L0064
                CPY     L0060
                BCC     LA1A2

                BNE     LA192

                CMP     L005F
                BCC     LA1A2

.LA192          CPY     L0062
                BCC     LA181

                BNE     LA19E

                CMP     L0061
                BCC     LA181

                BEQ     LA181

.LA19E          LDA     L005F
                LDY     L0060
.LA1A2          JSR     LAB83

                LDA     L0061
                SEC
                SBC     L005F
                STA     L008B
                LDA     L0062
                SBC     L0060
                STA     L008C
                LDA     L0063
                STA     L0089
                LDA     L0064
                STA     L008A
                JSR     LA9CD

                BCS     LA21D

                LDA     L005F
                STA     L008D
                LDA     L0060
                STA     L008E
                LDA     L0089
                STA     L0087
                LDA     L008A
                STA     L0088
                LDY     #$00
.LA1D1          LDA     (L008D),Y
                STA     (L0087),Y
                INC     L0087
                BNE     LA1DB

                INC     L0088
.LA1DB          INC     L008D
                BNE     LA1E1

                INC     L008E
.LA1E1          LDA     L008D
                LDX     L008E
                CPX     L0062
                BNE     LA1D1

                CMP     L0061
                BNE     LA1D1

                LDA     L008B
                PHA
                LDA     L008C
                PHA
                LDA     L0089
                STA     L0063
                LDA     L008A
                STA     L0064
                LDA     L0087
                LDY     L0088
                SEC
                SBC     #$01
                BCS     LA205

                DEY
.LA205          JSR     LAC30

                LDA     L0063
                LDY     L0064
                JSR     LAC30

                PLA
                STA     L008C
                PLA
                STA     L008B
                LDA     #$01
                STA     L0073
                STA     L007D
                CLC
                RTS

.LA21D          JMP     LA8F9

                JSR     LA8F4

                JSR     L8B2F

                BNE     LA22B

                JMP     LAB83

.LA22B          JMP     L81DD

.LA22E          JSR     LA73E

                LDA     L0070
                STA     L0034
                LDA     L0076
                STA     L0080
                LDA     L006E
                BEQ     LA246

                LDA     L0073
                ORA     L006F
                BNE     LA246

                JMP     LA318

.LA246          LDA     L0009
                CMP     L0012
                BCC     LA254

                BNE     LA294

                LDA     L0008
                CMP     L0011
                BCS     LA294

.LA254          LDA     L006F
                BNE     LA2C5

                LDA     L0033
                STA     L0070
                LDY     L0012
                LDA     L0011
                CPY     L000E
                BCC     LA26A

                BNE     LA2C5

                CMP     L000D
                BCS     LA2C5

.LA26A          JSR     LAAEF

                LDY     L0086
                CPY     L0009
                BNE     LA2C5

                LDA     L0085
                CMP     L0008
                BNE     LA2C5

                STY     L0012
                STA     L0011
                LDX     L0035
.LA27F          DEX
                LDA     L07CC,X
                INX
                STA     L07CC,X
                DEX
                BNE     LA27F

                JSR     LA637

                LDA     #$0B
                LDY     #$01
                JMP     LA309

.LA294          LDA     L0033
                STA     L0070
.LA298          LDX     #$00
                LDA     L0011
                LDY     L0012
.LA29E          INX
                CPY     L0014
                BNE     LA2A9

                CMP     L0013
                BNE     LA2A9

                STX     L003D
.LA2A9          CPY     L0009
                BNE     LA2B1

                CMP     L0008
                BEQ     LA2CB

.LA2B1          JSR     LAAD2

                BEQ     LA2CB

                TYA
                LDY     L0086
                CLC
                ADC     L0085
                BCC     LA2BF

                INY
.LA2BF          CPX     L0035
                BEQ     LA29E

                BCC     LA29E

.LA2C5          JSR     LA406

                JMP     LA298

.LA2CB          CPX     L0035
                BCC     LA316

                BEQ     LA316

                LDA     L006F
                BNE     LA2C5

                LDX     #$00
.LA2D7          LDA     L07CD,X
                STA     L07CC,X
                INX
                CPX     L0035
                BNE     LA2D7

                DEC     L003D
                LDX     #$00
                LDA     L0036
                STA     L07CC,X
                LDA     L0033
                STA     L0070
                LDY     L0012
                LDA     L0011
                JSR     LAAD2

                TYA
                CLC
                ADC     L0011
                STA     L0011
                BCC     LA300

                INC     L0012
.LA300          LDY     L0035
                LDA     #$0A
                LDX     #$00
                JSR     LA7A2

.LA309          JSR     OSWRCH

                LDA     L0070
                STA     L0033
                INC     L0080
                INC     L0074
                TYA
                TAX
.LA316          STX     L0077
.LA318          LDY     L0034
                JSR     LAB49

                JSR     LAA47

                JSR     LA5C0

                LDA     L0036
                LSR     A
                STA     L0083
                LDA     L0072
                CMP     L0071
                BCC     LA339

                LDA     L0071
                CLC
                ADC     L0036
                SBC     #$03
                CMP     L0072
                BCS     LA34D

.LA339          LDA     L0072
                SEC
                SBC     L0083
                BCS     LA342

                LDA     #$00
.LA342          STA     L0071
                LDA     #$01
                STA     L0073
                STA     L0080
                JSR     LA8F4

.LA34D          LDA     L0080
                STA     L0076
                LDA     L0073
                BEQ     LA39F

                BPL     LA36A

                LDA     L003D
                BMI     LA36A

                STA     L0082
                LDA     L0035
                SEC
                SBC     L003D
                TAX
                INX
                LDA     L0013
                LDY     L0014
                BNE     LA379

.LA36A          LDY     L0033
                JSR     LAB49

                LDA     #$01
                STA     L0082
                LDA     L0011
                LDY     L0012
                LDX     L0035
.LA379          STX     L0081
.LA37B          JSR     LA43E

                LDA     L0085
                LDY     L0086
                JSR     LAAD2

                BEQ     LA3DA

                TYA
                LDY     L0086
                CLC
                ADC     L0085
                BCC     LA390

                INY
.LA390          INC     L0082
                DEC     L0081
                BNE     LA37B

.LA396          LDA     #$00
                STA     L0074
                LDY     L0034
                JSR     LAB49

.LA39F          JSR     LAA47

                JSR     LAA83

                JSR     LA5F8

                LDA     L0074
                BEQ     LA3B7

                LDA     L0077
                STA     L0082
                LDA     L0004
                LDY     L0005
                JSR     LA43E

.LA3B7          LDA     L0075
                BEQ     LA3BE

                JSR     LA609

.LA3BE          LDA     L0072
                SEC
                SBC     L0071
                CLC
                ADC     #$03
                TAX
                LDY     #$00
                STY     L0073
                STY     L0074
                STY     L006F
                DEY
                STY     L0014
                LDY     L0077
                JSR     LA7A2

                JMP     LA785

.LA3DA          DEC     L0081
                BEQ     LA396

                LDX     L0082
                LDA     L0036
                STA     L07CD,X
                STA     L0083
                LDA     #$2A
.LA3E9          INC     L0082
                LDX     #$00
                LDY     L0082
                JSR     LA7A2

                JSR     LA54F

                LDA     L0083
                STA     L07CC,X
                LDA     #$00
                STA     L0083
                LDA     #$20
                DEC     L0081
                BNE     LA3E9

                BEQ     LA396

.LA406          LDA     L0034
                STA     L0070
                LDA     L0035
                STA     L0073
                LSR     A
                TAX
                INX
                LDA     L006F
                BMI     LA419

                BEQ     LA419

                LDX     L0077
.LA419          LDA     L0008
                LDY     L0009
.LA41D          DEX
                BEQ     LA431

                STA     L0087
                STY     L0088
                JSR     LAAEF

                LDA     L0085
                LDY     L0086
                BCS     LA41D

                LDA     L0087
                LDY     L0088
.LA431          STA     L0011
                STY     L0012
                LDA     L0070
                STA     L0033
                LDA     L0034
                STA     L0070
                RTS

.LA43E          STA     L0085
                STA     L008B
                STY     L0086
                STY     L008C
                LDX     #$00
                LDY     L0082
                JSR     LA7A2

                LDY     #$00
                STY     L0083
                STY     L0080
                STY     L0039
                JSR     LAF27

                BNE     LA46C

                LDY     #$03
                LDA     L0071
                BNE     LA46C

                LDY     #$01
                JSR     LA48F

                JSR     LA48F

                LDA     #$20
                BNE     LA474

.LA46C          LDA     #$20
                JSR     LA4A1

                JSR     LA4A1

.LA474          JSR     LA4A1

.LA477          JSR     LA563

.LA47A          JSR     LA495

                DEX
                BNE     LA47A

                CMP     #$0D
                BNE     LA477

                LDA     #$20
                JSR     LA54F

                LDA     L0083
                STA     L07CC,X
                RTS

.LA48F          JSR     LA563

                JMP     LA4A1

.LA495          INC     L0039
                STX     L0084
                LDX     L0080
                INC     L0080
                CPX     L0071
                BCC     LA4EB

.LA4A1          PHA
                LDX     L0082
                LDA     L07CC,X
                BEQ     LA4AC

                DEC     L07CC,X
.LA4AC          LDX     L0083
                CPX     L0036
                BCS     LA4EA

                INC     L0083
                TYA
                BEQ     LA4CC

                DEY
                JSR     LA4EE

                INY
                CPX     #$04
                BCS     LA4CC

                TAX
                BMI     LA4DB

                BNE     LA4CC

                PLA
.LA4C6          PHA
                JSR     LA52F

                LDX     #$00
.LA4CC          PLA
                JSR     LA5B8

                BNE     LA4DA

                LDA     #$2D
                BCS     LA4C6

                LDA     #$2A
                BCC     LA4C6

.LA4DA          PHA
.LA4DB          CMP     #$0D
                BNE     LA4E1

                LDA     #$20
.LA4E1          JSR     OSWRCH

                TXA
                BNE     LA4EA

                JSR     LA51D

.LA4EA          PLA
.LA4EB          LDX     L0084
                RTS

.LA4EE          TYA
                CLC
                ADC     L008B
                STA     L008D
                LDA     L008C
                ADC     #$00
                STA     L008E
                LDX     #$00
.LA4FC          LDA     L008E
                CMP     L0054,X
                BNE     LA508

                LDA     L008D
                CMP     L0053,X
                BEQ     LA510

.LA508          INX
                INX
                CPX     #$0C
                BNE     LA4FC

                TXA
                RTS

.LA510          LDA     L0037
                CMP     #$07
                PHP
                LDA     #$FF
                PLP
                BEQ     LA51C

                LDA     #$00
.LA51C          RTS

.LA51D          PHA
                LDA     L0037
                CMP     #$07
                BCS     LA544

                TXA
                PHA
                LDX     #$07
                JSR     LA546

                LDX     #$80
                BNE     LA53F

.LA52F          PHA
                LDA     L0037
                CMP     #$07
                BCS     LA544

                TXA
                PHA
                LDX     #$00
                JSR     LA546

                LDX     #$87
.LA53F          JSR     LA546

                PLA
                TAX
.LA544          PLA
                RTS

.LA546          LDA     #$11
                JSR     OSWRCH

                TXA
                JMP     OSWRCH

.LA54F          LDX     L0082
                STA     L0084
                LDA     L07CC,X
                BEQ     LA562

                LDA     L0084
.LA55A          JSR     OSWRCH

                DEC     L07CC,X
                BNE     LA55A

.LA562          RTS

.LA563          LDA     (L0085),Y
                INY
.LA566          CMP     #$09
                BEQ     LA599

                CMP     #$10
                BEQ     LA58D

                CMP     #$0B
                BEQ     LA591

                CMP     #$1A
                BEQ     LA58D

                BCC     LA589

                CMP     #$20
                BCS     LA589

                STY     L0084
                LDY     L0069
                BPL     LA587

                SBC     #$1B
                TAX
                LDA     L002A,X
.LA587          LDY     L0084
.LA589          LDX     #$01
                CLC
                RTS

.LA58D          LDA     #$20
                BNE     LA589

.LA591          LDA     L003F
                BEQ     LA58D

                STY     L0084
                BNE     LA5A9

.LA599          STY     L0084
                LDY     L0039
.LA59D          INY
                CPY     L003A
                BCS     LA5B0

                LDA     (L0006),Y
                CMP     #$2A
                BNE     LA59D

                TYA
.LA5A9          SBC     L0039
                TAX
                BEQ     LA5B0

                BCS     LA5B2

.LA5B0          LDX     #$01
.LA5B2          LDA     #$20
                LDY     L0084
                SEC
                RTS

.LA5B8          CMP     #$1C
                BEQ     LA5BF

                CMP     #$1D
                CLC
.LA5BF          RTS

.LA5C0          LDA     L0002
                STA     L0085
                LDA     L0003
                STA     L0086
                LDA     L0079
                BNE     LA5DC

                TAY
.LA5CD          CPY     L0040
                BEQ     LA5F5

                STA     L0039
                JSR     LA563

                TXA
                CLC
                ADC     L0039
                BCC     LA5CD

.LA5DC          LDA     #$00
                STA     L0079
                TAY
.LA5E1          STA     L0039
                JSR     LA563

                TXA
                CLC
                ADC     L0039
                CMP     L0072
                BCC     LA5E1

                BEQ     LA5F3

                LDA     L0039
                DEY
.LA5F3          STY     L0040
.LA5F5          STA     L0072
.LA5F7          RTS

.LA5F8          LDA     L0076
                BEQ     LA5F7

                LDY     #$00
                STY     L0076
                STY     L0082
                LDA     L0006
                LDY     L0007
                JSR     LA43E

.LA609          LDA     #$00
                STA     L0075
                JSR     LA637

                LDX     #$46
                LDA     L004F
                BEQ     LA61E

                LDX     #$4D
                AND     #$C0
                BNE     LA61E

                LDX     #$20
.LA61E          TXA
                JSR     OSWRCH

                LDA     #$4A
                LDX     L0050
                BEQ     LA62A

                LDA     #$20
.LA62A          JSR     OSWRCH

                LDA     #$49
                LDX     L0051
                BNE     LA639

                LDA     #$20
                BNE     LA639

.LA637          LDA     #$1E
.LA639          JMP     OSWRCH

.LA63C          LDX     L0077
                LDA     L0036
                STA     L07CC,X
                RTS

.LA644          STX     L0082
                LDA     LA652
                LDY     LA653
                JSR     LA672

                LDX     L0082
                RTS

.LA653          LDX     L0048
                TXA
                PHA
                TSX
                LDA     L0102,X
                LDX     L0082
                STA     L0654,X
                CPX     #$82
                BCS     LA666

                INC     L0082
.LA666          PLA
                TAX
                PLA
                RTS

.LA66A          STX     L008D
                STY     L008E
                LDA     #$EE
                LDY     #$FF
.LA672          STA     L008B
                STY     L008C
                LDY     #$00
                STY     L0083
.LA67A          LDX     #$00
.LA67C          LDA     L008E
                CMP     LB0FE,Y
                BCC     LA69D

                BNE     LA68C

                LDA     L008D
                CMP     LB0FD,Y
                BCC     LA69D

.LA68C          LDA     L008D
                SBC     LB0FD,Y
                STA     L008D
                LDA     L008E
                SBC     LB0FE,Y
                STA     L008E
                INX
                BNE     LA67C

.LA69D          TXA
                BNE     LA6A4

                LDX     L0083
                BEQ     LA6A9

.LA6A4          JSR     LA6B1

                INC     L0083
.LA6A9          INY
                INY
                CPY     #$08
                BCC     LA67A

                LDA     L008D
.LA6B1          ORA     #$30
                JMP     (L008B)

.LA6B6          LDA     #$00
                TAX
                STA     L008D
                STA     L008E
.LA6BD          LDA     (L0004),Y
                SEC
                SBC     #$30
                BCC     LA6F1

                CMP     #$0A
                BCS     LA6F1

                INY
                STA     L0084
                ASL     L008D
                ROL     L008E
                LDX     L008E
                LDA     L008D
                PHA
                ASL     L008D
                ROL     L008E
                ASL     L008D
                ROL     L008E
                PLA
                CLC
                ADC     L008D
                BCC     LA6E3

                INX
.LA6E3          CLC
                ADC     L0084
                STA     L008D
                TXA
                ADC     L008E
                STA     L008E
                LDX     #$FF
                BNE     LA6BD

.LA6F1          TXA
                PHP
                LDA     L008D
                LDX     L008E
                PLP
                RTS

.LA6F9          LDX     L0008
                LDY     L0009
                CPY     L0014
                BCC     LA707

                BNE     LA70B

                CPX     L0013
                BCS     LA70B

.LA707          STX     L0013
                STY     L0014
.LA70B          LDX     #$FF
                STX     L0073
                STX     L003D
                RTS

.LA712          LDA     #$15
                LDX     #$00
                JSR     OSBYTE

.LA719          JSR     OSRDCH

                CMP     #$1B
                CLC
                BNE     LA725

                JSR     LA726

                SEC
.LA725          RTS

.LA726          PHA
                TXA
                PHA
                TYA
                PHA
                LDX     #$00
                LDY     #$00
                LDA     #$7E
                JSR     OSBYTE

                PLA
                TAY
                PLA
                TAX
                PLA
                RTS

.LA73A          LDA     #$0C
                BNE     LA75D

.LA73E          JSR     LA751

                LDA     #$20
.LA743          JSR     OSWRCH

                LDA     #$00
                LDX     #$06
.LA74A          JSR     OSWRCH

                DEX
                BNE     LA74A

                RTS

.LA751          LDA     #$17      ; CRTC Register Programming (next value is 0)
                JSR     OSWRCH

                LDA     #$00
                JSR     OSWRCH

                LDA     #$0A
.LA75D          JMP     OSWRCH

.LA760          STX     L0087
                STY     L0088
                JSR     LA794

                JSR     LA73E

                JSR     LA637

                JSR     LA52F

                LDA     L0087
                JSR     OSWRCH

                LDA     L0088
                JSR     OSWRCH

                JSR     LA51D

                LDA     #$20
                JSR     OSWRCH

                JSR     LA79E

.LA785          JSR     LA751

                LDA     #$72
                LDX     L0037
                CPX     #$07
                BEQ     LA743

                LDA     #$67    
                BNE     LA743

.LA794          LDA     #$86     ; Text Cursor Position
                JSR     OSBYTE

                STX     L0089
                STY     L008A
                RTS

.LA79E          LDX     L0089
                LDY     L008A
.LA7A2          PHA
                LDA     #$1F
                JSR     OSWRCH

                TXA
                JSR     OSWRCH

                TYA
                JSR     OSWRCH

                PLA
.LA7B1          RTS

.LA7B2          STY     L0084
                PLA
                CLC
                ADC     #$01
                STA     L0087
                PLA
                ADC     #$00
                STA     L0088
                LDY     #$00
                BEQ     LA7C7

.LA7C3          JSR     OSASCI

                INY
.LA7C7          LDA     (L0087),Y
                BMI     LA7DC

                BNE     LA7C3

                TYA
                SEC
                ADC     L0087
                STA     L0087
                BCC     LA7D7

                INC     L0088
.LA7D7          LDY     L0084
                JMP     (L0087)

.LA7DC          JSR     OSNEWL

                JMP     L8198

.LA7E2          LDY     #$00
                BEQ     LA7EA

.LA7E6          JSR     OSWRCH

                INY
.LA7EA          LDA     LA7F5,Y
                BNE     LA7E6

                LDA     #$20
                DEX
                BPL     LA7E6

                RTS

.LA7F5          EQUS    "VIEW"

                EQUB    $00

                EQUS    "M3.0"

                EQUB    $00

.LA7FF          LDA     #$FF
                STA     L0082
                TAX
.LA804          LDY     L007F
                DEY
                INC     L0082
.LA809          INX
                INY
                LDA     (L0085),Y
                AND     #$DF
                STA     L0084
                LDA     LB1C0,X
                BEQ     LA848

                BMI     LA836

                EOR     #$5B
                STA     L0083
                AND     #$DF
                CMP     L0084
                BEQ     LA809

.LA822          INX
                LDA     LB1C0,X
                BEQ     LA848

                BPL     LA822

                LDA     L0083
                AND     #$20
                BEQ     LA804

                LDA     (L0085),Y
                CMP     #$30
                BCS     LA804

.LA836          LDA     (L0085),Y
                CMP     #$30
                BCS     LA83F

                STA     L007E
                INY
.LA83F          STY     L007F
                LDY     L0082
                LDA     LB1C0,X
                CLC
                RTS

.LA848          SEC
                RTS

.LA84A          ASL     A
                CLC
                ADC     LB10A,Y
                STA     L008D
                LDA     L0052
                BPL     LA859

                AND     #$01
                BNE     LA85C

.LA859          INC     LA85D
.LA85C          LDA     #$00
LA85D = LA85C+1
                ADC     LB10B,Y
                STA     L008E
                LDY     #$00
                LDA     (L008D),Y
                STA     L008B
                INY
                LDA     (L008D),Y
                STA     L008C
                JMP     (L008B)

.LA871          LDA     L006E
                BEQ     LA8F2

                LDA     L0008
                STA     L0089
                LDA     L0009
                STA     L008A
                LDY     #$00
                STY     L008C
                JSR     LAAA9

                STA     L0083
                LDA     L003B
                SEC
                SBC     L0083
                BCC     LA897

                BEQ     LA8A5

                STA     L008B
                JSR     LA968

                JMP     LA8A5

.LA897          STA     L0084
                LDA     #$00
                SEC
                SBC     L0084
                STA     L008B
                JSR     LA9CD

                BCS     LA8F3

.LA8A5          LDA     L006E
                BPL     LA8B0

                LDA     L006D
                BEQ     LA8B0

                JSR     LA6F9

.LA8B0          LDY     #$00
                STY     L006D
                STY     L006E
                LDA     L0004
                STA     L008B
                LDA     L0005
                STA     L008C
                LDX     L0083
                STX     L003B
.LA8C2          TXA
                BNE     LA8C9

                LDA     #$0D
                BNE     LA8D1

.LA8C9          LDA     (L0004),Y
                CMP     #$10
                BNE     LA8D1

                LDA     #$20
.LA8D1          PHA
                TXA
                PHA
.LA8D4          JSR     LA4EE

                BNE     LA8E7

                TYA
                CLC
                ADC     L0008
                STA     L0053,X
                LDA     L0009
                ADC     #$00
                STA     L0054,X
                BNE     LA8D4

.LA8E7          PLA
                TAX
                PLA
                STA     (L0008),Y
                INY
                DEX
                CMP     #$0D
                BNE     LA8C2

.LA8F2          CLC
.LA8F3          RTS

.LA8F4          JSR     LA871

                BCC     LA8F3

.LA8F9          LDX     #$FF
                TXS
                JSR     LA902

                JMP     L9AEA

.LA902          JSR     LA73E

                LDX     #$03
                LDY     #$00
                JSR     LA7A2

                JSR     LA52F

                LDY     L0036
                STY     L07CC
                DEY
                DEY
                LDX     #$00
                BEQ     LA91D

.LA91A          JSR     OSWRCH

.LA91D          LDA     LA94D,X
                BEQ     LA926

                INX
                DEY
                BNE     LA91A

.LA926          JSR     LA51D

                TYA
                BEQ     LA934

                LDA     #$20
.LA92E          JSR     OSWRCH

                DEY
                BNE     LA92E

.LA934          LDA     #$00
                STA     L006E
                JSR     LB04A

.LA93B          JSR     LACA0

                JSR     LA712

                BCC     LA93B

                JSR     LA785

                LDA     #$01
                STA     L0076
                STA     L0073
                RTS

.LA94D          EOR     L6D65
                EQUS    "mory full - Press ESCAPE",$00

.LA968          EQUS    "%"

                EQUB    $89,$85

                CLC
                ADC     L008B
                STA     L008D
                LDA     L008A
                STA     L0088
                ADC     L008C
                STA     L008E
                LDX     #$53
.LA97B          LDY     L0001,X
                LDA     L0000,X
                CPY     L008A
                BCC     LA9A9

                BNE     LA989

                CMP     L0089
                BCC     LA9A9

.LA989          CPY     L008E
                BCC     LA993

                BNE     LA99F

                CMP     L008D
                BCS     LA99F

.LA993          CPX     #$5F
                BCS     LA99F

                LDA     #$00
                STA     L0000,X
                STA     L0001,X
                BEQ     LA9A9

.LA99F          SBC     L008B
                STA     L0000,X
                LDA     L0001,X
                SBC     L008C
                STA     L0001,X
.LA9A9          INX
                INX
                CPX     #$69
                BNE     LA97B

.LA9AF          LDY     #$00
.LA9B1          LDA     (L008D),Y
                STA     (L0087),Y
                BEQ     LA9C0

                INY
                BNE     LA9B1

                INC     L0088
                INC     L008E
                BNE     LA9AF

.LA9C0          TYA
                CLC
                ADC     L0087
                STA     L000D
                LDA     L0088
                ADC     #$00
                STA     L000E
                RTS

.LA9CD          LDA     L000D
                STA     L0087
                CLC
                ADC     L008B
                STA     L008D
                TAX
                LDA     L000E
                STA     L0088
                ADC     L008C
                STA     L008E
                TAY
                CPY     HIMEMmsb
                BCC     LA9EA

                BNE     LAA46

                CPX     HIMEMlsb
                BCS     LAA46

.LA9EA          STX     L000D
                STY     L000E
                LDX     #$53
.LA9F0          LDY     L0001,X
                LDA     L0000,X
                CPY     L008A
                BCC     LAA09

                BNE     LA9FE

                CMP     L0089
                BCC     LAA09

.LA9FE          CLC
                ADC     L008B
                STA     L0000,X
                LDA     L0001,X
                ADC     L008C
                STA     L0001,X
.LAA09          INX
                INX
                CPX     #$69
                BNE     LA9F0

.LAA0F          LDA     L0087
                SEC
                SBC     L0089
                TAX
                LDA     L0088
                SBC     L008A
                BEQ     LAA1D

                LDX     #$FF
.LAA1D          TXA
                TAY
                INY
                LDA     L0087
                STX     L0087
                SEC
                SBC     L0087
                STA     L0087
                BCS     LAA2D

                DEC     L0088
.LAA2D          LDA     L008D
                STX     L008D
                SEC
                SBC     L008D
                STA     L008D
                BCS     LAA3A

                DEC     L008E
.LAA3A          DEY
                LDA     (L0087),Y
                STA     (L008D),Y
                TYA
                BNE     LAA3A

                INX
                BEQ     LAA0F

                CLC
.LAA46          RTS

.LAA47          LDA     L006E
                BNE     LAA82

                LDA     #$01
                STA     L006E
.LAA4F          LDA     #$10
                JSR     LAAC7

                JSR     LAF17

                LDY     #$00
                LDA     (L0008),Y
                LDX     L0002
                LDY     L0003
                JSR     LAF29

                BNE     LAA6F

                BCS     LAA68

                STA     L006E
.LAA68          JSR     LAF14

                LDX     L0000
                LDY     L0001
.LAA6F          STX     L0004
                STY     L0005
                LDY     #$00
.LAA75          LDA     (L0008),Y
                CMP     #$0D
                BEQ     LAA80

                STA     (L0004),Y
                INY
                BNE     LAA75

.LAA80          STY     L003B
.LAA82          RTS

.LAA83          LDA     L0008
                STA     L008B
                LDA     L0009
                STA     L008C
                LDY     #$00
.LAA8D          JSR     LA4EE

                BNE     LAAA0

                TYA
                CLC
                ADC     L0004
                STA     L0053,X
                LDA     L0005
                ADC     #$00
                STA     L0054,X
                BNE     LAA8D

.LAAA0          LDA     (L0008),Y
                CMP     #$0D
                BEQ     LAA82

                INY
                BNE     LAA8D

.LAAA9          LDY     #$00
                LDA     (L0004),Y
                JSR     LAF29

                PHP
                LDY     #$84
.LAAB3          DEY
                LDA     (L0002),Y
                CMP     #$10
                BNE     LAABE

                TYA
                BNE     LAAB3

                DEY
.LAABE          INY
                TYA
                PLP
                BNE     LAAC6

                CLC
                ADC     #$03
.LAAC6          RTS

.LAAC7          LDY     #$00
                LDX     #$89
.LAACB          STA     (L0000),Y
                INY
                DEX
                BNE     LAACB

                RTS

.LAAD2          STA     L0085
                STY     L0086
                JSR     LAB26

                BNE     LAAE1

                JSR     LAAE1

                BNE     LAB2D

                RTS

.LAAE1          LDY     #$00
.LAAE3          LDA     (L0085),Y
                BEQ     LAAEE

                INY
                CMP     #$0D
                BNE     LAAE3

                LDA     (L0085),Y
.LAAEE          RTS

.LAAEF          SEC
                SBC     #$01
                STA     L0085
                BCS     LAAF7

                DEY
.LAAF7          STY     L0086
                CPY     L000C
                BCC     LAB25

                BNE     LAB03

                CMP     L000B
                BCC     LAB25

.LAB03          LDY     #$00
.LAB05          LDA     L0085
                SEC
                SBC     #$01
                STA     L0085
                BCS     LAB10

                DEC     L0086
.LAB10          LDA     (L0085),Y
                CMP     #$0D
                BNE     LAB05

                INC     L0085
                BNE     LAB1C

                INC     L0086
.LAB1C          JSR     LAB26

                BNE     LAB24

                JSR     LAB43

.LAB24          SEC
.LAB25          RTS

.LAB26          LDY     #$00
                LDA     (L0085),Y
                CMP     #$81
                RTS

.LAB2D          TYA
                PHA
                INC     L0076
                LDY     L0070
                DEY
                LDA     L0085
                STA     (PageLSB),Y
                DEY
                LDA     L0086
                STA     (PageLSB),Y
                JSR     LAB49

                PLA
                TAY
                RTS

.LAB43          INC     L0076
                LDY     L0070
                INY
                INY
.LAB49          STY     L0070
                INY
                LDA     (PageLSB),Y
                CLC
                ADC     #$03
                STA     L0006
                DEY
                LDA     (PageLSB),Y
                ADC     #$00
                STA     L0007
.LAB5A          JSR     LAB7C       ; Store 0 in &003E and &003F

.LAB5D          LDA     (L0006),Y
                CMP     #$3E        ; Char ">"
                BNE     LAB65

                STY     L003F
.LAB65          CMP     #$3C        ; Char "<"
                BNE     LAB6B

                STY     L003E
.LAB6B          CMP     #$0D        ; CR
                BEQ     LAB74

                INY
                CPY     #$84
                BNE     LAB5D

.LAB74          STY     L003A
                LDA     L003F
                CMP     L003E
                BCC     LAB82      ; RTS

.LAB7C          LDY     #$00       ; Called only from AB5A
                STY     L003E      ; and run on from AB74
                STY     L003F
.LAB82          RTS

.LAB83          STA     L008D
                STY     L008E
                LDA     L0008
                LDY     L0009
                CPY     L008E
                BCC     LABB1

                BNE     LAB97

                CMP     L008D
                BCC     LABB1

                BEQ     LABD8

.LAB97          JSR     LAAEF

                LDA     L0085
                LDY     L0086
                BCC     LABD8

                CPY     L008E
                BCC     LABD8

                BNE     LAB97

                CMP     L008D
                BCC     LABD8

                BNE     LAB97

                BEQ     LABD8

.LABAE          JSR     LABF9

.LABB1          STA     L0085
                STY     L0086
                JSR     LAAE1

                BEQ     LABCF

                TYA
                LDY     L0086
                CLC
                ADC     L0085
                BCC     LABC3

                INY
.LABC3          CPY     L008E
                BCC     LABAE

                BNE     LABCF

                CMP     L008D
                BCC     LABAE

                BEQ     LABD5

.LABCF          LDA     L0085
                LDY     L0086
                BNE     LABD8

.LABD5          JSR     LABF9

.LABD8          STA     L0008
                STY     L0009
                LDA     L008D
                SEC
                SBC     L0008
                TAX
                LDY     #$00
                LDA     (L0008),Y
                JSR     LAF29

                BNE     LABF6

                TXA
                CPX     #$03
                LDX     #$00
                BCC     LABF6

                SEC
                SBC     #$03
                TAX
.LABF6          STX     L0040
                RTS

.LABF9          PHA
                TYA
                PHA
                JSR     LAB26

                BNE     LAC04

                JSR     LAB2D

.LAC04          PLA
                TAY
                PLA
                RTS

.LAC08          SEC
                SBC     #$01
                STA     L008D
                BCS     LAC10

                DEY
.LAC10          STY     L008E
                LDY     #$00
.LAC14          LDA     (L008D),Y
                CMP     #$0D
                BEQ     LAC27

                LDA     L008D
                SEC
                SBC     #$01
                STA     L008D
                BCS     LAC14

                DEC     L008E
                BNE     LAC14

.LAC27          LDA     L008D
                STA     L008B
                LDA     L008E
                STA     L008C
.LAC2F          RTS

.LAC30          JSR     LAC08

.LAC33          LDA     #$00
                STA     L0083
                LDX     #$85
                LDY     #$01
                LDA     (L008D),Y
                JSR     LAF29

                BNE     LAC45

                INX
                INX
                INX
.LAC45          STX     L0084
.LAC47          LDA     (L008D),Y
                INY
                CMP     #$20
                BEQ     LAC52

                CMP     #$1A
                BNE     LAC54

.LAC52          STY     L0083
.LAC54          CMP     #$0D
                BEQ     LAC2F

                CPY     L0084
                BEQ     LAC47

                BCC     LAC47

                LDA     L0084
                LDX     L0083
                BEQ     LAC65

                TXA
.LAC65          CLC
                ADC     L008D
                STA     L0089
                STA     L008D
                LDA     L008E
                ADC     #$00
                STA     L008A
                STA     L008E
                LDA     #$01
                STA     L008B
                LDA     #$00
                STA     L008C
                JSR     LA9CD

                LDA     #$0D
                LDY     #$00
                STA     (L0089),Y
                LDA     L0089
                STA     L008D
                LDA     L008A
                STA     L008E
                BNE     LAC33

.LAC8F          LDX     #$4D
                LDY     #$4B
.LAC93          JSR     LA760

LAC94 = LAC93+1
                INC     L0075
                JSR     LA719

                JSR     LACA7

                BCC     LACA6

.LACA0          LDA     #$07
                JSR     OSWRCH

.LACA5          SEC
.LACA6          RTS

.LACA7          SEC
                SBC     #$31
                BCC     LACA5

                ASL     A
                CMP     #$0C
                BCS     LACB4

                TAX
                LDA     L0054,X
.LACB4          RTS

.LACB5          LDA     L000D
                STA     L005F
                LDA     L000E
                STA     L0060
                LDA     L000B
                STA     L0061
                LDA     L000C
                STA     L0062
                RTS

.LACC6          LDA     #$00
                LDX     #$03
.LACCA          STA     L0053,X
                DEX
                BPL     LACCA

                RTS

.LACD0          LDA     #$31
                JSR     LACA7

                BCS     LACFE

                BEQ     LACFD

                LDA     L0053,X
                STA     L005F
                LDA     L0054,X
                STA     L0060
                LDA     #$32
                JSR     LACA7

                BCS     LACFE

                BEQ     LACFD

                LDA     L0053,X
                STA     L0061
                LDA     L0054,X
                STA     L0062
                LDX     #$63
                JSR     LACFF

                JSR     L8911

                CLC
                BNE     LACFE

.LACFD          SEC
.LACFE          RTS

.LACFF          JSR     LAAA9

                CPY     L0040
                BCC     LAD15

                LDY     #$00
                LDA     (L0004),Y
                LDY     L0040
                JSR     LAF29

                BNE     LAD14

                INY
                INY
                INY
.LAD14          TYA
.LAD15          CLC
                ADC     L0008
                STA     L0000,X
                LDA     L0009
                ADC     #$00
                STA     L0001,X
                RTS

.LAD21          JSR     L8C1F

                BCS     LAD38

                AND     #$DF
                PHA
                SBC     #$40
                ASL     A
                ADC     #$98
                STA     L008B
                LDA     #$07
                ADC     #$00
                STA     L008C
                PLA
                CLC
.LAD38          RTS

.LAD39          STY     L0084
                JSR     LAD21

                LDY     #$00
                STY     L008D
                STY     L008E
                BCS     LAD5A

                BIT     LAD5E
                CMP     #$44
                BEQ     LAD5B

                CMP     #$54
                BEQ     LAD5B

                LDA     (L008B),Y
                STA     L008D
                INY
                LDA     (L008B),Y
                STA     L008E
.LAD5A          CLV
.LAD5B          LDY     L0084
                RTS

.LAD5E          RTI

.LAD5F          JSR     LAD39

                STY     L0084
                BVC     LADA2

                PHA
                STX     L0082
                LDA     #$00
                STA     L0500
                LDX     #$00
                LDY     #$05
                LDA     #$0E
                JSR     OSWORD

                LDA     L0500
                BEQ     LAD9F

                PLA
                LDY     #$04
                LDX     #$0B
                CMP     #$44
                BEQ     LAD89

                LDY     #$10
                LDX     #$08
.LAD89          STX     L0083
                LDX     L0082
.LAD8D          LDA     L0500,Y
                STA     L0654,X
                INX
                CPX     #$83
                BEQ     LADA5

                INY
                DEC     L0083
                BNE     LAD8D

                BEQ     LADA5

.LAD9F          PLA
                LDX     L0082
.LADA2          JSR     LA644

.LADA5          LDY     L0084
                RTS

.LADA8          LDX     #$08
                LDA     L008E
.LADAC          ASL     L008D
                ROL     A
                CMP     L0046
                BCC     LADB7

                SBC     L0046
                INC     L008D
.LADB7          DEX
                BNE     LADAC

                RTS

.LADBB          JMP     LACA0

.LADBE          LDA     L0040
                CMP     #$84
                BCS     LADBB

                STX     L0080
                JSR     LAAA9

                TYA
                CLC
                ADC     L0080
                BCS     LADBB

                CMP     #$85
                BCS     LADBB

                INC     L006D
                LDA     L0002
                STA     L008B
                LDA     L0003
                STA     L008C
                LDY     #$84
.LADDF          DEY
                LDX     #$00
                TYA
                CLC
                ADC     L0080
                BCS     LADED

                CMP     #$84
                BCS     LADED

                TAX
.LADED          STX     L0081
.LADEF          JSR     LA4EE

                BNE     LAE0A

                LDA     L0081
                BEQ     LAE03

                CLC
                ADC     L0002
                STA     L0053,X
                LDA     L0003
                ADC     #$00
                BNE     LAE05

.LAE03          STA     L0053,X
.LAE05          STA     L0054,X
                JMP     LADEF

.LAE0A          LDA     (L0002),Y
                STY     L0084
                LDY     L0081
                BEQ     LAE14

                STA     (L0002),Y
.LAE14          LDY     L0084
                CPY     L0040
                BNE     LADDF

                CLC
                RTS

.LAE1C          STX     L0080
                INC     L006D
                LDA     L0002
                STA     L008B
                LDA     L0003
                STA     L008C
                LDY     L0040
                TYA
                CLC
                ADC     L0080
                STA     L0084
.LAE30          JSR     LA4EE

                BNE     LAE50

                LDA     #$00
                CPY     L0084
                BCC     LAE49

                TYA
                SBC     L0080
                CLC
                ADC     L0002
                STA     L0053,X
                LDA     L0003
                ADC     #$00
                BNE     LAE4B

.LAE49          STA     L0053,X
.LAE4B          STA     L0054,X
                JMP     LAE30

.LAE50          INY
                CPY     #$85
                BCC     LAE30

                LDA     L0040
                CMP     #$84
                BCS     LAE79

                LDY     L0040
.LAE5D          STY     L0084
                LDX     #$10
                TYA
                CLC
                ADC     L0080
                BCS     LAE6F

                TAY
                CPY     #$84
                BCS     LAE6F

                LDA     (L0002),Y
                TAX
.LAE6F          LDY     L0084
                TXA
                STA     (L0002),Y
                INY
                CPY     #$84
                BCC     LAE5D

.LAE79          RTS

.LAE7A          LDA     L003F
                BEQ     LAE8C

                LDY     #$00
.LAE80          LDA     (L0002),Y
                INY
                CMP     #$0B
                BEQ     LAE8C

                CPY     #$84
                BCC     LAE80

                RTS

.LAE8C          CLC
                RTS

.LAE8E          JSR     LAE7A

                BCC     LAE8C

                LDY     #$00
.LAE95          LDA     L0040
                PHA
                STY     L0040
                LDX     #$01
                JSR     LADBE

                BCS     LAEA8

                LDY     L0040
                LDA     #$0B
                STA     (L0002),Y
                INY
.LAEA8          PLA
                STA     L0040
                RTS

.LAEAC          LDA     L004F
                AND     #$81
                BNE     LAEE9

                JSR     LAE7A

                BCC     LAEE9

                JSR     LAAA9

                LDA     L0040
                STA     L0083
                STY     L0040
                JSR     LA5C0

                LDA     L0072
                CMP     L003F
                BCC     LAED1

                LDY     L0083
                STY     L0040
                INC     L0040
                BCS     LAEE2

.LAED1          LDA     L0083
                LDY     L0040
                CPY     L0083
                BCS     LAEE0

                SEC
                SBC     L003F
                BCC     LAEE2

                ADC     L0040
.LAEE0          STA     L0040
.LAEE2          JSR     LAE95

                BCS     LAEEA

                INC     L0074
.LAEE9          CLC
.LAEEA          RTS

.LAEEB          LDA     L0002
                STA     L0085
                LDA     L0003
                STA     L0086
                LDY     L0040
                BEQ     LAF0D

.LAEF7          DEY
                BEQ     LAF0D

                JSR     LA563

                DEY
                CMP     #$20
                BEQ     LAEF7

.LAF02          DEY
                JSR     LA563

                CMP     #$20
                BEQ     LAF0D

                DEY
                BNE     LAF02

.LAF0D          STY     L0040
                JSR     LA563

                DEY
                RTS

.LAF14          SEC
                BCS     LAF18

.LAF17          CLC
.LAF18          PHP
                LDA     L004F
                ROL     L004F
                PLP
                ROR     L004F
                CMP     L004F
                BEQ     LAF26

                INC     L0075
.LAF26          RTS

.LAF27          LDA     (L0085),Y
.LAF29          CMP     #$80
                BEQ     LAF30

                CMP     #$81
                CLC
.LAF30          RTS

.LAF31          LDA     #$87     ; Character at text pos, and screen Mode
                JSR     OSBYTE

                STY     L0037    ; Store screen mode (0-7) not shadow
                LDA     #$A3     ; Application Support
                LDX     #$F3     ; 65Tube Emulator?? (Why not &ff view family workspace flag)
                STX     L0052
                LDY     L8008
                JSR     OSBYTE

                CPY     #$80
                BCS     LAF4A

                ROR     L0052
.LAF4A          LDA     #$84     ; Read top of user memory
                JSR     OSBYTE

                STX     HIMEMlsb    ; HIMEM low byte
                STY     HIMEMmsb    ; HIMEM high byte
                LDA     #$A0     ; Read VDU Variable
                LDX     #$09     ; Current text window bottom row
                JSR     OSBYTE

                STY     L0036
                STX     L0035
                JSR     LAF69     ; Get the high Order Address

                BCS     LAF68

                ROR     L0052
                CLC
                ROL     L0052
.LAF68          RTS

.LAF69          LDA     #$82      ; Read High Order Address
                JSR     OSBYTE

                SEC               ; Set Carry
                INY               ; if 6502/65C02 00 becomes 01, otherwise FF becomes 00
                BNE     LAF76     ; branch if unexpanded machine

                INX               ; if 6502/65C02 00 becomes 01, otherwise FF becomes 00
                BNE     LAF76     ; branch if unexpanded machine

                CLC
.LAF76          RTS

.LAF77          LDA     HIMEMlsb
                SEC
                SBC     L000D
                TAX
                LDA     HIMEMmsb
                SBC     L000E
                TAY
.LAF82          RTS

.LAF83          JSR     L8E3A

                BEQ     LAF82

.LAF88          LDA     L000A
                CMP     #$AA
                BNE     LAF95

                LDA     L05CE
                CMP     #$0D
                BEQ     LAFA7

.LAF95          LDA     #$00
                STA     L0784
                STA     L004F
                STA     L0050
                STA     L0051
                LDX     #$14
.LAFA2          STA     L0069,X
                DEX
                BPL     LAFA2

.LAFA7          LDA     #$83      ; Read OSHWM bottom of user memory (Page)
                JSR     OSBYTE

                STX     PageLSB   ; LSB Page
                STY     PageMSB   ; MSB Page
                INY
                INX
                STX     L000B
                BNE     LAFB7

                INY
.LAFB7          STY     L000C
                LDY     #$00
                STY     L003C
                STY     L0040
                LDA     #$AA
                STA     L000A
                STA     (PageLSB),Y
                LDA     L000B
                SEC
                SBC     #$01
                STA     L008D
                LDA     L000C
                SBC     #$00
                STA     L008E
                LDA     #$0D
                STA     L05CE
                STA     (L008D),Y
                LDA     L000B
                STA     L000D
                LDA     L000C
                STA     L000E
                LDA     #$45
                STA     L0000
                CLC
                ADC     #$03
                STA     L0002
                STA     L0004
                LDA     #$05
                STA     L0001
                ADC     #$00
                STA     L0003
                STA     L0005
                LDA     #$CF
                LDY     #$05
                JSR     LB099

                INY
                LDA     #$0D
                STA     (L0085),Y
                LDY     #$FF
                LDA     #$CC
                STA     (PageLSB),Y
                DEY
                LDA     #$05
                STA     (PageLSB),Y
                JSR     LB033

                JSR     LB04A

.LB013          LDY     L000C
                CPY     L000E
                BNE     LB032

                LDA     L000B
                CMP     L000D
                BNE     LB032

                INC     L000D
                BNE     LB025

                INC     L000E
.LB025          STA     L0008
                STY     L0009
                LDY     #$00
                LDA     #$0D
                STA     (L000B),Y
                TYA
                STA     (L000D),Y
.LB032          RTS

.LB033          LDA     L000B
                STA     L0008
                LDA     L000C
                STA     L0009
                LDA     #$00
                STA     L0040
                LDY     #$FE
                STY     L0012
                STY     L0070
                STY     L0033
                JMP     LAB49

.LB04A          LDX     #$0B
                LDA     #$00
.LB04E          STA     L0053,X
                DEX
                BPL     LB04E

                RTS

.LB054          JSR     LA73A

                LDA     #$00
                STA     L006D
                STA     L006F
                STA     L006E
                LDX     L0035
.LB061          STA     L07CC,X
                DEX
                BPL     LB061

                LDA     #$0D
                JSR     OSWRCH

                LDA     #$0F
                JSR     OSWRCH

                LDA     #$E1     ; ctrl function key interpretation
                LDY     #$00
                LDX     #$8C
                JSR     OSBYTE

                LDA     #$E2     ; ctrl function key interpretation
                LDY     #$00
                LDX     #$9C
                JSR     OSBYTE

                LDA     #$E3     ; ctrl function key interpretation
                STA     L003D
                LDY     #$00
                LDX     #$AC
                JSR     OSBYTE

                LDA     #$04     ; Define action of cursor keys
                LDX     #$02     ; Soft keys 11-15
                STX     L0073
                STX     L0076
                JMP     OSBYTE

.LB099          STA     L0085
                STY     L0086
                LDA     #$00
                TAY
.LB0A0          LDA     #$2E
.LB0A2          STA     (L0085),Y
                INY
                TYA
                TAX
                INX
                CLC
                ADC     #$06
                CMP     L0036
                BEQ     LB0B8

                TXA
                AND     #$07
                BNE     LB0A0

                LDA     #$2A
                BNE     LB0A2

.LB0B8          LDA     #$3C
                STA     (L0085),Y
                RTS

.LB0BD          LDA     #$00
                LDX     #$33
.LB0C1          STA     L0798,X
                DEX
.LB0C5          BPL     LB0C1

                STA     L06D8
                STA     L071A
                STA     L002E
                STA     L002F
                STA     L0027
                STA     L002C
                STA     L002D
                LDA     #$42
                STA     L0026
                LDA     #$01
                STA     L0028
                STA     L0029
                STA     L0038
                STA     L07B6
                STA     L07AE
                LDY     #$80
                STY     L002A
                INY
                STY     L002B
                LDA     #$04
                STA     L0022
                STA     L0023
                STA     L0024
                STA     L0025
                JMP     L92A4

.LB0FD          BPL     LB126

LB0FE = LB0FD+1
                INX
                STZ     L0000
                ASL     A
                BRK
.LB105          EQUB    $1B

                ORA     L097F
.LB10A          ORA     (L00B1)
LB10B = LB10A+1
                STA     (L00B2)
                PLY
                LDA     (L00AE),Y
                LDA     (L00DD),Y
                STA     (L0033,X)
                STA     L9DB8,X
                INX
                STA     L9FF4,X
                ASL     L00A0,X
                LDY     #$95
                STZ     L9E4A,X
                EOR     (L009E),Y
.LB126          BCC     LB0C5

                PHP
                STZ     L9DD8,X
                ORA     (L009E,X)
                LDA     (L00A7),Y
                LDA     (L000C,X)
                STA     L9D03,X
                BIT     L139D
                STA     LA14C,X
                STZ     L9E3E
                TSX
                LDY     #$EC
.LB143          STA     L9DF0,X
LB145 = LB143+2
                DEX
                LDY     #$9E
                INC     A
                LDA     (L00A7),Y
                LDY     #$55
                ADC     (L00A0,X)
                LDY     #$2F
                LDA     (PageMSB,X)
                LDX     #$0C
                LDA     (L001D,X)
                LDA     (L0026,X)
                LDA     (L00AA,X)
                LDY     #$69
                STA     L9E59,X
                STZ     LA7B1,X
                LDA     (L00A7),Y
                LDA     (L00A7),Y
                LSR     A
                STZ     L9E51,X
                LDY     #$16
                LDY     #$28
                LDX     L4B84,Y
                STA     L000C
                STA     L0062
                STY     L00DB
                TSX
                DEY
                EOR     (L0086)
                SEC
                STX     L0091
                DEC     A
                LSR     A
                BCS     LB145

                STA     L0051
                TXS
                DEY
                ROR     A
                STA     L009F
                STY     romslot
                EOR     L0082,X
                CMP     (L0084),Y
                TRB     LD184
                DEY
                STY     L8D33
.LB1B3          STY     L0016
LB1B4 = LB1B3+1
                DEC     A
                AND     #$30
                CLC
                BIT     L0037,X
                BIT     L0035,X
                BRK
.LB1C0          EQUB    $1F

                INC     A
                TRB     L0015
                INC     A
                BRA     LB1D3

                ASL     L0F12
                STA     (L0015,X)
                ASL     L800C,X
.LB1D1          ORA     L0914,X
LB1D3 = LB1D1+2
                ROL     L003A,X
                STA     (L0008,X)
                ASL     L2E0F,X
                BRA     LB1E8

                ASL     L3F3A,X
                STA     (L0016,X)
                TRB     L0029
.LB1E6          ROL     L0881,X
LB1E8 = LB1E6+2
                CLC
                AND     #$3E
                ROL     L8135,X
                PHP
                ROL     L2F3E,X
                PLP
                STA     (L0008,X)
                INC     A
                AND     L813E
                CLC
                TRB     L002E
                AND     L002F,X
                STA     (L001D,X)
                ORA     (L003E)
                STA     (L000B,X)
                ORA     #$12
                ORA     HIMEMlsb,X
                ASL     L8129,X
                PHP
                ROL     L293A,X
                SEC
                STA     (L0018,X)
                ROL     L293A,X
                STA     (L0016,X)
                ORA     (L0038)
                AND     #$34
                PLP
                DEC     A
                SEC
                ROL     L1D81,X
                TRB     L0037
                STA     (L0015,X)
                DEC     A
                ROL     L003E,X
                STA     (L0016,X)
                BIT     L003F,X
                ROL     L1D80,X
                AND     (L0035)
                AND     (L0028)
                STA     (L000B,X)
                AND     #$32
                AND     L002F,X
                STA     (L0018,X)
                DEC     A
                AND     L003C,X
                ROL     L0C81,X
                AND     #$32
                ROL     L1E81,X
                AND     (L002F)
                BRA     LB25F

                ROL     L372B,X
                DEC     A
                SEC
                ROL     L1781,X
.LB25E          BIT     L003A,X
LB25F = LB25E+1
                BRA     LB263

.LB264          EOR     L0052
                LSR     A
                LSR     L0044
                PHA
                EOR     L4D45
                EOR     (L0050)
                EOR     L0054
                EOR     L4D42
                BVC     LB2C5

                LSR     L004F
                PHA
                EOR     L0048
                PHA
                EOR     L4D46
                JMP     L4C4D

                BVC     LB2D1

                BVC     LB2DA

                LSR     A
                BVC     LB2D3

                STA     LAC94
                STY     L0025,X
                STA     PageLSB,X
                STA     L0021,X
                STX     L00B1,Y
                ROR     LD795
                STA     L00A7,X
                STA     L00AF,X
                STA     L0090,X
                STA     L0098,X
                STA     L0003,X
                STX     L000D,Y
                STX     L00B6,Y
                STX     L00B7,Y
                STA     L00BF,X
                STA     L00C7,X
                STA     L00CF,X
                STA     L00E8,X
                STA     L00F0,X
                STA     L0084,X
                STY     L0017,X
.LB2BF          STX     L008A,Y
LB2C0 = LB2BF+1
                BNE     LB2CF

                LDX     #$08
.LB2C5          LDA     (L008B),Y
                STA     L0083
                INC     L008B
                BNE     LB2CF

                INC     L008C
.LB2CF          ROL     L0083
.LB2D1          DEX
.LB2D2          RTS

.LB2D3          PHA
                LSR     A
                LSR     A
                LSR     A
                LSR     A
.LB2D8          JSR     LB2DE

LB2DA = LB2D8+2
                PLA
                AND     #$0F
.LB2DE          CMP     #$0A
                BCC     LB2E4

                ADC     #$06
.LB2E4          ADC     #$30
                STA     L0654,X
                INX
                RTS

.LB2EB          JSR     LAF69       ; Get the High Order Address

                BCC     LB2D2

                LDX     #$FF
.settbl         INX
                LDA     tbl1,X
                STA     L0654,X     ; Setup some table
                BNE     settbl

                LDA     #$C5
                STA     L008E
                STA     L0086
                JSR     LB2D3

                LDA     #$A7
                STA     L008D
                STA     L0085
                JSR     LB2D3

                LDA     #$0D
                STA     L0654,X
                LDX     #$67
                LDY     #$80
                STX     L0089
                STY     L008A
                LDA     #$62
                STA     L008B
                LDA     #$B3
                STA     L008C
                LDY     #$00
                LDX     #$00
.LB326          LDA     L008A
                CMP     #$B2
                BNE     LB332

                LDA     L0089
                CMP     #$C0
                BEQ     LB356     ; 

.LB332          JSR     LB2C0

                LDA     (L0089),Y
                BCC     LB346

                CLC
                ADC     #$40
                PHA
                INY
                LDA     (L0089),Y
                ADC     #$45
                STA     (L0089),Y
                PLA
                DEY
.LB346          STA     (L0085),Y
                INC     L0089
                BNE     LB34E

                INC     L008A
.LB34E          INC     L0085
                BNE     LB326

                INC     L0086
                BNE     LB326

.LB356          LDX     #$54
                LDY     #$06
                JMP     OSCLI     ; Star command @0654 (Command block)

.tbl1           ROL     A
                JSR     L4100

                BRK
                EQUB    $20

                BRK
                EQUB    $21

.LB367          AND     #$20
                BRK
                EQUB    $04

                BIT     L0004
                BCC     LB36F

.LB36F          ORA     #$04
                BRK
                EQUB    $40

                BRK
                EQUB    $01

                ORA     (L0000,X)
                RTI

                BRK
                EQUB    $00

                BRK
                EQUB    $80

                BRK
                EQUB    $00

                ORA     (L0000,X)
                BRK
                EQUB    $01

.LB382          BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BIT     L0000
                BRA     LB38C

.LB38C          BRK
                EQUB    $00

                EOR     #$21
                BRK
                EQUB    $00

                PHA
                ORA     (L0000,X)
                TSB     L0024
                ORA     #$08
                BRK
                EQUB    $48

                PHA
                PHA
                EOR     #$02
                BRK
                EQUB    $01

                BPL     LB3AF

                BRK
                EQUB    $00

                TSB     L0000
                BRK
                EQUB    $80

                BRK
                EQUB    $10

                BRK
.LB3AF          EQUB    $10

                STY     L0090
                BIT     L0000
                BRK
                EQUB    $48

                PHA
                PHA
                ORA     (L0048)
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $10

                RTI

                AND     (L0000,X)
                BRA     LB405

                PHP
                BRK
                EQUB    $00

                BRK
                EQUB    $02

                BPL     LB3DC

.LB3CC          BCC     LB40E

LB3CD = LB3CC+1
                TSB     L0000
                AND     (L0024,X)
                BPL     LB367

                BRK
                EQUB    $08

                ORA     (L0049)
                BRK
                EQUB    $84

.LB3DC          STY     L0000
                BRK
                EQUB    $48

                EOR     #$02
                RTI

                BRK
                EQUB    $00

                STA     (L0000)
                EOR     #$09
                JSR     L8040

                BPL     LB382

                RTI

                STY     L0090
                TSB     L0080
                BRK
                EQUB    $02

                PHA
                RTI

                TSB     L0090
                JSR     L0000

                BRK
                EQUB    $00

                ORA     (L0048)
                BRK
                EQUB    $08

.LB405          BRK
                EQUB    $00

                JSR     L2001

                RTI

                BRK
                EQUB    $20

.LB40E          TSB     L0000
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                ORA     (L0000,X)
                BPL     LB41A

                BRK
.LB41A          EQUB    $00

                BRK
                EQUB    $20

                TSB     L0000
                EOR     #$00
                BRK
                EQUB    $00

                BRA     LB435

                AND     (L0000,X)
                BRK
                EQUB    $00

                JSR     L0000

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $04

                BRA     LB434

.LB434          BRK
.LB435          EQUB    $09

                BRK
                EQUB    $90

                BRA     LB44A

                BRK
                EQUB    $00

                BRK
                EQUB    $08

                BIT     L0090
                PHP
                BRK
                EQUB    $20

                BRK
                EQUB    $20

                EOR     (L0000,X)
                BPL     LB3CD

                BRK
.LB44A          EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BPL     LB451

.LB451          BRK
                EQUB    $00

                ORA     (L0008,X)
                RTI

                BRK
                EQUB    $00

                BCC     LB45A

.LB45A          TSB     L0092
                RTI

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                JSR     L0000

                BRK
                EQUB    $40

                BRK
                EQUB    $12

                EOR     #$00
                BRK
                EQUB    $00

                PHP
                TSB     L0000
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $09

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $01

                JSR     L0410

                TSB     L0000
                RTI

                ORA     (L0000,X)
                BRK
                EQUB    $00

                RTI

                STA     (L0000)
                BRK
                EQUB    $00

                BRK
                EQUB    $40

                BRK
                EQUB    $01

                BRK
                EQUB    $08

                BRK
                EQUB    $00

                ORA     (PageMSB,X)
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                JSR     L0400

                BRK
                EQUB    $04

                BRK
                EQUB    $00

                BRK
                EQUB    $20

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $10

                BRK
                EQUB    $00

                BRK
                EQUB    $40

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $40

                BRK
                EQUB    $04

                ORA     (L0000,X)
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $20

                BRK
                EQUB    $00

                BRK
                EQUB    $40

                BRK
                EQUB    $40

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                RTI

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $04

                BRK
                EQUB    $08

                BRK
                EQUB    $40

                BRK
                EQUB    $00

                BRK
                EQUB    $08

                BPL     LB4E9

.LB4E9          BRK
                EQUB    $04

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $02

                TSB     L0000
                BRK
                EQUB    $02

                BRK
                EQUB    $00

                BRK
                EQUB    $40

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $10

                BRK
                EQUB    $40

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $20

                BRK
                EQUB    $00

                TSB     L0000
                TSB     L0000
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                ORA     (L0042)
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                ORA     (L0000,X)
                ORA     #$20
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $09

                BRK
                EQUB    $00

                BCC     LB537

                STA     (L0008)
                RTI

                RTI

                JSR     L2040

.LB537          BRK
                EQUB    $02

                PHA
                RTI

                BRK
                EQUB    $00

                RTI

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                PHP
                BRK
                EQUB    $00

                BRK
                EQUB    $90

                BRK
                EQUB    $01

                JSR     L0000

                BRK
                EQUB    $49

                JSR     L0100

                BRK
                EQUB    $00

                BRK
                EQUB    $20

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BPL     LB561

.LB561          BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                TSB     L0000
                BRK
                EQUB    $00

                PHP
                BRK
                EQUB    $00

                BRK
                EQUB    $08

                BRK
                EQUB    $04

                BRK
                EQUB    $24

                BRK
                EQUB    $00

                JSR     L0412

                BRK
                EQUB    $04

                TSB     L0000
                BRK
                EQUB    $02

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                JSR     USERV

                BRK
                EQUB    $00

                BPL     LB592

.LB592          BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $02

                ORA     (L0008,X)
                ORA     (L0021,X)
                BRK
                EQUB    $00

                BRK
                EQUB    $01

                JSR     L2400

                BPL     LB5A5

.LB5A5          AND     (L0000,X)
                BRA     LB5BB

                BPL     LB5AB

.LB5AB          BRK
                EQUB    $00

                BRK
                EQUB    $00

                JSR     L4948

                BIT     L0000
                BRA     LB5B6

.LB5B6          STA     (L0042)
                PHA
                BRK
                EQUB    $02

.LB5BB          BRK
                EQUB    $09

                BRK
                EQUB    $42

                EOR     #$20
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $80

                BRK
                EQUB    $00

                BRK
                EQUB    $04

                BRA     LB5D1

                BRK
                EQUB    $00

                BRK
                EQUB    $00

.LB5D1          STA     (L0000,X)
                BRK
                EQUB    $00

                JSR     L0000

                BRK
                EQUB    $80

                PHP
                BPL     LB5DE

.LB5DE          BIT     L0000
                BRK
                EQUB    $02

                EOR     #$20
                BRK
                EQUB    $02

                ORA     (L0000,X)
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                ORA     (L0000,X)
                ORA     (L0000,X)
                BRK
                EQUB    $00

                BRK
                EQUB    $12

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                PHP
                BRK
                EQUB    $24

                BRK
                EQUB    $20

                BRA     LB60A

                BRK
                EQUB    $08

                PHP
.LB609          BPL     LB61B

LB60A = LB609+1
                BPL     LB61D

                BPL     LB61F

                BPL     LB621

                BRK
                EQUB    $00

                BRK
                EQUB    $81

                AND     (L0000,X)
                RTI

                BPL     LB61A

.LB61A          BRK
.LB61B          EQUB    $00

.LB61C          JSR     L0000

LB61D = LB61C+1
.LB61F          BRK
                EQUB    $00

.LB621          BRK
                EQUB    $90

                BRK
                EQUB    $02

                BRK
                EQUB    $84

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $20

                BRK
                EQUB    $01

                BRK
                EQUB    $08

                BRK
                EQUB    $00

                TSB     L0004
                BRK
                EQUB    $20

                BRA     LB63A

.LB63A          BRK
                EQUB    $00

                BRK
                EQUB    $44

                JSR     L0108

                BRK
                EQUB    $00

                ORA     (L0004,X)
                BCC     LB648

.LB648          BRK
                EQUB    $00

                JSR     L0000

                JSR     L0000

                BRK
                EQUB    $00

                BRK
                EQUB    $08

                BRK
                EQUB    $01

                BRK
                EQUB    $00

                BRA     LB65A

.LB65A          BRK
                EQUB    $00

                BRK
                EQUB    $00

                JSR     L0000

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $40

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                ORA     (L0000,X)
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $20

                BRK
                EQUB    $10

                BRK
                EQUB    $00

                TSB     L0000
                BRK
                EQUB    $00

                BRA     LB685

.LB685          BRK
                EQUB    $80

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $02

                BRK
                EQUB    $00

                BRK
                EQUB    $01

                BRK
                EQUB    $00

                BRK
                EQUB    $00

.LB697          BPL     LB699

.LB699          BRK
                EQUB    $09

                BIT     L0024
                BCC     LB6BF

                BRK
                EQUB    $00

                BRK
                EQUB    $40

                BRK
                EQUB    $00

                BRK
                EQUB    $01

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $40

                PHP
                JSR     L0100

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $48

.LB6BF          BRK
                EQUB    $00

                BRK
                EQUB    $80

                BRK
                EQUB    $02

                EOR     #$00
                JSR     L4000

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRA     LB6D1

.LB6D1          JSR     L0000

                ORA     (L0000,X)
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $48

                BRK
                EQUB    $48

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                AND     (L0000,X)
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BPL     LB6ED

.LB6ED          BRK
                EQUB    $01

                BIT     L0081
                BRK
                EQUB    $00

                BRK
                EQUB    $20

                BRK
                EQUB    $00

                TSB     L0008
                BRK
                EQUB    $02

                TSB     L0000
                PHP
                BRK
                EQUB    $20

                BPL     LB702

.LB702          ORA     (L0000)
                ORA     (L0000,X)
                BRK
                EQUB    $20

                BRK
                EQUB    $00

                RTI

                ORA     #$00
                TSB     L0000
                RTI

                ORA     (L0000,X)
                BRK
                EQUB    $04

                BPL     LB697

                JSR     L0000

                BCC     LB71B

.LB71B          BRA     LB721

                PHP
                BRK
                EQUB    $04

.LB720          BPL     LB724

LB721 = LB720+1
                BPL     LB724

.LB724          BRK
                EQUB    $04

                PHP
                PHA
                ORA     (L0024,X)
                BRK
                EQUB    $09

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $20

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                RTI

                BRA     LB73B

.LB73B          BRA     LB75D

                RTI

                RTI

                BPL     LB743

.LB743          BRK
                EQUB    $04

                BIT     L0000
                BRK
                EQUB    $04

                BRK
                EQUB    $02

                BRK
                EQUB    $40

                ORA     #$00
                STA     (L0040)
                PHP
                ORA     (L0001)
                JSR     L0400

                ORA     #$20
                ORA     (L0000,X)
.LB75C          JSR     L0000

LB75D = LB75C+1
                BRK
                EQUB    $24

                BRA     LB767

                PHP
                BRK
                EQUB    $00

                BRK
.LB767          EQUB    $04

                BRA     LB76A

.LB76A          EOR     #$20
                RTI

                STY     L0000
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $90

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                ORA     (L0024,X)
                STA     (L0042)
                BRK
                EQUB    $48

                ORA     (L0048)
                RTI

                BCC     LB787

.LB787          BRK
                EQUB    $00

                PHP
                BRK
                EQUB    $00

                PHP
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                ORA     (L0002,X)
                BRK
                EQUB    $01

                BIT     L0024
                BRA     LB79D

.LB79D          TSB     L0000
                BRK
                EQUB    $00

                BRK
                EQUB    $08

                BRK
                EQUB    $00

                BRK
                EQUB    $08

                BPL     LB7A9

.LB7A9          BRK
                EQUB    $00

                BPL     LB7AD

.LB7AD          ORA     (PageMSB,X)
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                TSB     L0000
                BRK
                EQUB    $80

                BRK
                EQUB    $09

                JSR     L0000

                BRK
                EQUB    $00

                PHP
                BRK
                EQUB    $00

                BRK
                EQUB    $02

                BRK
                EQUB    $04

                PHP
                BRK
                EQUB    $00

                EOR     #$00
                TSB     L0000
                BRK
                EQUB    $02

                RTI

                BRK
                EQUB    $00

                PHA
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $02

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                PHP
                ORA     (L0000,X)
                ORA     #$00
                STA     (L0048)
                BRK
                EQUB    $80

                PHA
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                JSR     L4100

                BRK
                EQUB    $00

                BRK
                EQUB    $40

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $20

                BRK
                EQUB    $08

                RTI

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $04

                BRK
                EQUB    $04

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                STA     (L0000,X)
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                STA     (HIMEMmsb)
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $80

                RTI

                STA     (L0000,X)
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $10

                BRK
                EQUB    $00

                BRK
                EQUB    $80

                BRK
                EQUB    $00

                BRK
                EQUB    $02

                EOR     #$00
                PHP
                ORA     #$00
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                RTI

                PHP
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BPL     LB859

.LB859          TSB     L0000
                BRK
                EQUB    $00

                TSB     L0002
                BRK
                EQUB    $10

                BRA     LB863

.LB863          BRK
                EQUB    $00

                BPL     LB867

.LB867          ORA     (L0000)
                JSR     L0001

                BRK
                EQUB    $00

                BRK
                EQUB    $02

                BRK
                EQUB    $00

                BRK
                EQUB    $02

                PHA
                ORA     (L0000)
                ORA     (L0000,X)
                BRA     LB87C

.LB87C          BIT     L0084
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $12

                BRK
                EQUB    $40

                JSR     L0000

                BRK
                EQUB    $01

                BRK
                EQUB    $00

                BRK
                EQUB    $01

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $84

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $02

                BPL     LB8BB

.LB8BB          BRK
                EQUB    $01

                BRK
                EQUB    $00

                BRK
                EQUB    $08

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $40

                BRK
                EQUB    $00

                STA     (L0000,X)
                BRK
                EQUB    $00

                ORA     (L0000,X)
                BRK
                EQUB    $80

                BRK
                EQUB    $02

                BPL     LB8D7

.LB8D7          BRK
                EQUB    $00

                BRK
                EQUB    $00

                JSR     L0001

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                TSB     L0024
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                PHP
                BRK
                EQUB    $04

                BRK
                EQUB    $02

                RTI

                RTI

                BRK
                EQUB    $00

                BPL     LB8FB

.LB8FB          BRK
                EQUB    $04

                BRK
                EQUB    $80

                BRK
                EQUB    $00

                RTI

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $08

                BRK
                EQUB    $00

                TSB     L0000
                BRA     LB910

.LB910          BRK
                EQUB    $00

                BRK
                EQUB    $40

                BRK
                EQUB    $00

                RTI

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                JSR     L0000

                ORA     (L0000,X)
                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $80

                BRK
                EQUB    $00

                PHP
                RTI

                JSR     L0000

                BRK
                EQUB    $08

                BRK
                EQUB    $00

                PHP
                TSB     L0000
                RTI

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $80

                BRK
                EQUB    $00

                BRK
                EQUB    $04

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                PHP
                BRK
                EQUB    $01

                JSR     L0000

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                RTI

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                PHP
                BRK
                EQUB    $15

                EOR     L0055,X
                EOR     L0055,X
                EOR     L0055,X
                EOR     L0055,X
                EOR     L0055,X
                EOR     L0055,X
                EOR     L0055,X
                EOR     L0055,X
                EOR     L0055,X
                EOR     L0055,X
                BVC     LB98D

.LB98D          BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                BRK
                EQUB    $00

                ORA     L0055,X
                EOR     L0055,X
                EOR     L0055,X
                BRK
                EQUB    $FF

                ORA     (L00FF,X)
                ASL     A
                BPL     LBFB2

                BIT     LBFFF
.LBFB2          PLA
                TAX
                PLA
                PLP
                RTS

                BIT     LBFF7
                PHP
                BIT     LBFFC
                JMP     LBF76

                PHA
                PHA
                LDA     #$C0
                CMP     LBFFC
                JMP     LBF7C

                BIT     LBFF7
                PHP
                BIT     LBFFC
                JMP     LBF96

                BIT     LBFF7
                PHP
                BIT     LBFFC
                JMP     LBF90

.service        TAX
                LDA     #$04
                PHA
                TXA
.LBFE4          LDX     romslot
                JSR     L8021

                BIT     LBFFC
                TSX
                DEC     L0101,X
                BNE     LBFE4

                INX
                TXS
                LDX     romslot
                RTS

.LBFF7          CPY     #$B5
                ADC     L00B5
.LBFFB          LDA     L00B5,X
LBFFC = LBFFB+1
                ADC     #$B5
.LBFFF          LDA     L0000,X
.BeebDisEndAddr
SAVE "view.bin",BeebDisStartAddr,BeebDisEndAddr

